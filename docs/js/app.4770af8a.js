(function(t){function e(e){for(var n,r,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,s=1;s<i.length;s++){var c=i[s];0!==o[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},o={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/flexdash/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"07c0":function(t,e,i){"use strict";i.r(e);var n=i("3db1"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},1:function(t,e){},"1acb":function(t,e,i){"use strict";i.r(e);var n=i("bf03"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"1ec4":function(t,e,i){"use strict";i.r(e);var n=i("5224"),o=i("1acb");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var r=i("2877"),s=i("6544"),c=i.n(s),l=i("7f2e"),u=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports,c()(u,{VSparkline:l["a"]})},"254b":function(t,e,i){"use strict";i.r(e);var n=i("275f"),o=i("9d9d");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var r=i("2877"),s=i("6544"),c=i.n(s),l=i("99d9"),u=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports,c()(u,{VCardTitle:l["b"]})},"26df":function(t,e){t.exports={name:"Stat",props:{unit:String,value:{default:null}},computed:{unitTxt:function(){return"--"===this.value?"":this.unit},valTxt:function(){return"number"==typeof this.value?Math.round(10*this.value)/10:null===this.value?"--":this.value}}}},"275f":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card-title",{staticClass:"headline pa-0"},[i("span",{staticClass:"ma-auto"},[t._v(t._s(t.valTxt)),i("span",{staticClass:"unit"},[t._v(t._s(t.unitTxt))])])])},o=[]},"322f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"contents"}},[t.$root.editMode?i("v-toolbar",{staticClass:"editmode",attrs:{dense:"",color:"surface"}},[i("div",[i("v-chip",{attrs:{small:""}},[t._v("fixed size grid")])],1),i("div",[i("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g(t._b({attrs:{small:"",icon:"",color:"primary"}},"v-btn",o,!1),Object.assign({},a,n)),[i("v-icon",[t._v("mdi-card-plus")])],1)]}}],null,!0)},[i("span",[t._v("Add a widget to the end of the grid")])])]}}],null,!1,4148765622),model:{value:t.add_menu,callback:function(e){t.add_menu=e},expression:"add_menu"}},[i("v-list",[i("v-subheader",[t._v("Add Widget to the end of the grid")]),t._l(t.palette(),(function(e){return i("v-list-item",{key:e,on:{click:function(i){return t.addWidget(e)}}},[i("v-list-item-title",[t._v(t._s(e))])],1)}))],2)],1),null!==t.deleted_widget?i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{small:"",icon:""},on:{click:function(e){return t.restoreWidget()}}},"v-btn",o,!1),n),[i("v-icon",[t._v("mdi-delete-restore")])],1)]}}],null,!1,1142465719)},[i("span",[t._v("Restore deleted widget")])]):t._e()],1),null!==t.edit_id?i("div",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",icon:""},on:{click:function(e){return t.deleteWidget()}}},n),[i("v-icon",[t._v("mdi-delete")])],1)]}}],null,!1,2606168289)},[i("span",[t._v("Delete widget")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"ml-2",attrs:{small:"",icon:""},on:{click:function(e){return t.moveWidget(-1)}}},n),[i("v-icon",[t._v("mdi-arrow-up-bold")])],1)]}}],null,!1,4110266859)},[i("span",[t._v("Move widget towards the top-left of the grid")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",icon:""},on:{click:function(e){return t.moveWidget(1)}}},n),[i("v-icon",[t._v("mdi-arrow-down-bold")])],1)]}}],null,!1,171324591)},[i("span",[t._v("Move widget towards the bottom-right of the grid")])]),i("v-btn",{staticClass:"ml-2",attrs:{small:"",icon:""},on:{click:function(e){return t.adjustRows(-1)}}},[i("v-icon",[t._v("mdi-minus")])],1),i("v-chip",{attrs:{small:""}},[t._v(t._s(t.edit_config.rows)+" row"+t._s(t.edit_config.rows>1?"s":""))]),i("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return t.adjustRows(1)}}},[i("v-icon",[t._v("mdi-plus")])],1),i("v-btn",{staticClass:"ml-2",attrs:{small:"",icon:""},on:{click:function(e){return t.adjustCols(-1)}}},[i("v-icon",[t._v("mdi-minus")])],1),i("v-chip",{attrs:{small:""}},[t._v(t._s(t.edit_config.cols)+" col"+t._s(t.edit_config.cols>1?"s":""))]),i("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return t.adjustCols(1)}}},[i("v-icon",[t._v("mdi-plus")])],1),i("v-btn",{staticClass:"ml-2",attrs:{small:""},on:{click:function(e){return t.handleEdit(null,"cancel")}}},[t._v("Cancel")]),i("v-btn",{staticClass:"ml-2",attrs:{small:"",color:"primary"},on:{click:function(e){return t.saveEdit()}}},[t._v("Save")])],1):t._e(),i("v-spacer")],1):t._e(),i("v-container",{staticClass:"g-grid-small",attrs:{fluid:""}},[i("widget-wrap",{attrs:{config:t.statConfig}}),t._l(t.widgets,(function(e){return i("widget-edit",{key:e,attrs:{config:e==t.edit_id?t.edit_config:t.config_widgets[e],edit_active:e==t.edit_id},on:{change:function(e){return t.handleChange.apply(void 0,e)},edit:function(i){return t.handleEdit(e,i)}}})})),i("v-snackbar",{attrs:{top:"",left:"",text:"",absolute:"",timeout:"2000",color:"primary","content-class":"d-flex"},model:{value:t.notif,callback:function(e){t.notif=e},expression:"notif"}},[i("span",{staticClass:"mx-auto"},[t._v(t._s(t.notif_msg))])])],2),i("v-overlay",{attrs:{"z-index":"10",value:t.overlay}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"64"}}),i("v-chip",{staticClass:"ml-4 pr-10",attrs:{color:"primary"}},[t._v("Saving...")])],1)],1)},o=[],a=i("3835"),r=i("53ca"),s=(i("99af"),i("a434"),i("4de4"),i("7039"),i("2ca0"),i("b64b"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{color:t.color}},["title"in t.child_props?t.$root.editMode?i("div",{attrs:{"display:content":""}},[i("div",{staticStyle:{position:"absolute","z-index":"5",right:"0",top:"0.5ex"}},[i("v-btn",{staticClass:"justify-end align-start mt-n1",attrs:{small:"",icon:""},on:{click:t.handleEdit}},[i("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)],1)]):t._e():i("v-card-text",{staticClass:"d-flex pa-0 pt-1 mb-n1"},[t.title?i("span",{staticClass:"mx-auto"},[t._v(t._s(t.title))]):t._e(),t.$root.editMode?i("v-btn",{staticClass:"justify-end align-start mt-n1",attrs:{small:"",icon:""},on:{click:t.handleEdit}},[i("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1):t._e()],1),i(t.config.kind,t._b({ref:"comp",tag:"component",on:{send:function(e){return t.sendData(e)}}},"component",t.bindings,!1))],1)}),c=[],l=(i("caad"),i("a9e3"),i("c35a"),i("d3b7"),i("25f0"),i("b0c0"),i("c0d6")),u={name:"WidgetWrap",props:{suppressOutput:{type:Boolean,default:!0},color:{type:String,default:void 0},config:{type:Object,required:!0}},data:function(){return{watchers:[],bindings:{}}},computed:{title:function(){return this.bindings.title||"--"},child_props:function(){var t=window.widgetPalette;return this.config.kind in t&&t[this.config.kind].props||{}}},watch:{config:{immediate:!0,deep:!0,handler:function(t){this.genBindings(t)}}},inject:["sendSrv"],methods:{addDynBinding:function(t,e){var i=this;e in l["a"].sd||i.$set(l["a"].sd,e,void 0);var n=this.$watch((function(){return l["a"].sd[e]}),(function(e){i.updateBindingValue(t,e)}),{deep:!0,immediate:!0});return n},removeWatchers:function(){this.watchers.forEach((function(t){t()})),this.watchers.length=0},genBindings:function(t){var e=this;this.removeWatchers(),this.bindings={},t&&(Object.keys(t.static||{}).forEach((function(i){void 0!==t.static[i]&&e.$set(e.bindings,i,t.static[i])})),Object.keys(t.dynamic||{}).forEach((function(i){void 0!==t.dynamic[i]&&e.watchers.push(e.addDynBinding(i,t.dynamic[i]))})))},updateBindingValue:function(t,e){if(t in this.child_props){var i=this.child_props[t].type;if(i===Boolean)"number"===typeof e?e=!!e:"string"===typeof e?(e=e.toLowerCase(),e=["true","ok","1","yes"].includes(e)):"boolean"!==typeof e&&(e=void 0);else if(i===Number)"string"===typeof e?e=parseFloat(e):"boolean"===typeof e?e=e?1:0:"number"!==typeof e&&(e=void 0),void 0!==e&&(e=Number.parseFloat(e.toPrecision(4)));else if(i===String)Object(r["a"])(e)===Number?e=e.toString():Object(r["a"])(e)!==String&&(e=JSON.stringify(e));else if((i===Array||i===Object)&&"string"===typeof e)try{e=JSON.parse(e)}catch(n){e=void 0,console.log("Cannot convert string value for ".concat(t," to ").concat(i.name))}this.$set(this.bindings,t,e)}else console.log("Warning: updating value for ".concat(t,", but ").concat(this.config.kind," has no ").concat(t,":"),JSON.stringify(this.child_props))},handleEdit:function(){console.log("handleEdit() in widget-wrap"),this.$emit("edit","toggle")},sendData:function(t){var e=this.config.output;!this.suppressOutput&&e?(console.log("Widget ".concat(this.config.kind,"[").concat(this.config.id,"] sending ").concat(e," <-"),t),this.sendSrv(e,t)):console.log("Output of widget ".concat(this.config.kind,"[").concat(this.config.id,"] suppressed"))}}},d=u,f=(i("4bff"),i("2877")),h=i("6544"),p=i.n(h),g=i("8336"),v=i("b0af"),m=i("99d9"),b=i("132d"),_=Object(f["a"])(d,s,c,!1,null,"23687c59",null),y=_.exports;p()(_,{VBtn:g["a"],VCard:v["a"],VCardText:m["a"],VIcon:b["a"]});var w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:t.widgetStyle},[i("v-menu",{attrs:{value:t.edit_active,"offset-y":"","content-class":"popup-spacer","close-on-content-click":!1,"close-on-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){return[i("widget-wrap",{attrs:{config:t.config,suppressOutput:t.suppressOutput,color:t.edit_active?"highlight":"",shutup:e},on:{edit:function(e){return t.$emit("edit",e)}}})]}}])},[i("v-card",{attrs:{color:"panel"}},[i("v-card-title",{staticClass:"d-flex align-baseline"},[i("span",[t._v("Edit "+t._s(t.config.kind)+" widget")]),i("v-text-field",{staticClass:"ml-3 mt-0 text-h6 flex-grow-0",attrs:{dense:"",prefix:'"',suffix:'"',value:t.config.static["title"],"hide-details":!0},on:{input:function(e){return t.$emit("change",["static","title",e])}}}),i("v-spacer"),i("v-btn",{attrs:{elevation:"0",icon:""},on:{click:function(e){return t.$emit("edit","cancel")}}},[i("v-icon",[t._v("mdi-close")])],1)],1),t.edit_active?i("v-card-text",[i("v-container",{attrs:{fluid:""}},[i("v-row",{attrs:{align:"center"}},t._l(t.edit_props,(function(e){return i("v-col",{key:e,staticClass:"d-flex",attrs:{cols:"12",sm:"6",md:"4"}},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,a=n.attrs;return[i("v-btn-toggle",{staticClass:"mt-2 mr-1",attrs:{mandatory:"",dense:"","background-color":"rgba(0,0,0,0)",color:"primary"},model:{value:t.prop_static[e],callback:function(i){t.$set(t.prop_static,e,i)},expression:"prop_static[prop]"}},[i("v-btn",t._g(t._b({attrs:{"x-small":"",icon:""}},"v-btn",a,!1),o),[i("v-icon",[t._v("mdi-link-variant")])],1),i("v-btn",t._g(t._b({attrs:{"x-small":"",icon:""}},"v-btn",a,!1),o),[i("v-icon",[t._v(t._s(t.prop_info[e].icon))])],1)],1)]}}],null,!0)},[i("span",[t._v("Toggle dynamic link vs. literal value")])]),t.prop_static[e]?t.prop_info[e].type===Number?i("v-text-field",{attrs:{label:e,type:"number",dense:"",hint:t.prop_info[e].hint,value:t.propVal(e)},on:{input:function(i){return t.handleEdit("static",e,i)}}}):t.prop_info[e].type===Boolean?i("v-switch",{staticClass:"mt-0 ml-2",attrs:{label:e+" "+t.propVal(e),hint:t.prop_info[e].hint,"input-value":t.propVal(e)},on:{change:function(i){return t.handleEdit("static",e,i)}}}):t.prop_info[e].type===Array?i("v-text-field",{attrs:{label:e,dense:"",value:t.config.static[e]||t.prop_info[e].default},on:{input:function(i){return t.handleEdit("static",e,i)}}}):(t.prop_info[e].type,i("v-text-field",{attrs:{label:e,dense:"",hint:t.prop_info[e].hint,value:t.config.static[e]||t.prop_info[e].default},on:{input:function(i){return t.handleEdit("static",e,i)}}})):i("v-combobox",{attrs:{label:e,clearable:"",dense:"","persistent-hint":"",hint:"variable pathname (/-sep)",items:t.sdKeys,value:t.config.dynamic[e]},on:{input:function(i){return t.handleEdit("dynamic",e,i)}}})],1)})),1)],1)],1):t._e()],1)],1)],1)},k=[],C=(i("2532"),i("c1f9"),i("d81d"),{name:"WidgetEdit",components:{WidgetWrap:y},model:{prop:"config",event:"change"},props:{config:{type:Object,required:!0},edit_active:{type:Boolean,default:!1}},data:function(){return{suppressOutput:!0,prop_static:{}}},computed:{sdKeys:function(){return Object.keys(l["a"].sd).sort()},edit_props:function(){var t=Object.keys(this.child_props);return t.filter((function(t){return"title"!==t})).sort()},prop_info:function(){var t={String:"mdi-format-quote-close",Number:"mdi-numeric",Boolean:"mdi-yin-yang",Array:"mdi-code-brackets",Object:"mdi-code-braces"},e={},i=this.child_props;for(var n in i){var o=i[n].type||String;[String,Number,Boolean,Array,Object].includes(o)||(o=String);var a=o.name;void 0!==i[n].default&&(a+=", default: ".concat(i[n].default));var r=t[o.name];e[n]={type:o,default:i[n].default,validator:i[n].validator,hint:a,icon:r}}return e},child_props:function(){var t=window.widgetPalette;return this.config.kind in t&&t[this.config.kind].props||{}},widgetStyle:function(){var t="grid-row-start: span ".concat(this.config.rows||1),e="grid-column-start: span ".concat(this.config.cols||1);return"".concat(t,"; ").concat(e,";")}},watch:{edit_active:function(t){var e=this;console.log("edit_active",t),t&&(this.prop_static=Object.fromEntries(Object.keys(e.child_props).map((function(t){return[t,1-(t in e.config.dynamic)]}))))}},methods:{handleEdit:function(t,e,i){t in this.config&&e in this.child_props&&"title"!=e&&(this.child_props[e].type===Number&&"string"===typeof i&&(i=Number.parseFloat(i)),this.$emit("change",[t,e,i]))},propVal:function(t){return void 0!==this.config.static[t]?this.config.static[t]:this.prop_info[t].default}}}),x=C,S=(i("ff2c"),i("a609")),O=i("62ad"),E=i("2b5d"),D=i("a523"),T=i("e449"),$=i("0fd9"),N=i("2fa4"),j=i("b73d"),A=i("8654"),V=i("3a2f"),M=Object(f["a"])(x,w,k,!1,null,"07322c7f",null),P=M.exports;p()(M,{VBtn:g["a"],VBtnToggle:S["a"],VCard:v["a"],VCardText:m["a"],VCardTitle:m["b"],VCol:O["a"],VCombobox:E["a"],VContainer:D["a"],VIcon:b["a"],VMenu:T["a"],VRow:$["a"],VSpacer:N["a"],VSwitch:j["a"],VTextField:A["a"],VTooltip:V["a"]});var R=i("2ef0"),I=i.n(R),B={name:"FixedGrid",components:{WidgetWrap:y,WidgetEdit:P},props:{id:{type:String}},data:function(){return{add_menu:null,edit_id:null,edit_config:{},deleted_widget:null,edit_move_ix:null,overlay:!1,notif:!1,notif_msg:""}},computed:{config:function(){return l["a"].config.grids[this.id]},widgets:function(){if(null===this.edit_id||null==this.edit_move_ix)return this.config.widgets;var t=this.config.widgets.indexOf(this.edit_id),e=this.config.widgets.concat();return e.splice(t,1),e.splice(this.edit_move_ix,0,this.edit_id),e},config_widgets:function(){return l["a"].config.widgets},statConfig:function(){return{kind:"stat",id:"debugStat",dynamic:{},static:{title:"Widgets",value:this.widgetCount}}},widgetCount:function(){return this.config.widgets.length},widgetEdited:function(){return console.log("widgetEdited:",!I.a.isEqual(this.config_widgets[this.edit_id],this.edit_config)),!I.a.isEqual(this.config_widgets[this.edit_id],this.edit_config)},widgetMoved:function(){return console.log("widgetsMoved:",this.edit_move_ix,this.config.widgets.indexOf(this.edit_id)),null!==this.edit_move_ix&&this.edit_move_ix!=this.config.widgets.indexOf(this.edit_id)}},methods:{propNames:function(t){return Object.getOwnPropertyNames(t).filter((function(t){return!t.startsWith("_")}))},palette:function(){return console.log("Palette:",window.widgetPalette),Object.keys(window.widgetPalette)},genId:function(){var t=Object.keys(l["a"].config.widgets),e=null;while(!e||e in t)e="00000"+Math.floor(1e4*Math.random()),e="w"+e.substring(e.length-5);return e},addWidget:function(t){var e={kind:t,id:this.genId(),row:1,cols:1,static:{title:t},dynamic:{}};console.log("Adding ".concat(t,"[").concat(e.id,"] widget"))},handleChange:function(t,e,i){this.$set(this.edit_config[t],e,i)},handleEdit:function(t,e){var i=this;if(console.log("handleEdit(".concat(t,",").concat(e,") in fixed-grid")),"cancel"==e||"toggle"==e&&this.edit_id==t)this.cancelEdit();else if("toggle"==e&&this.edit_id!==t){this.edit_id=t,this.deleted_widget=null,this.edit_move_ix=null,this.edit_config={static:{},dynamic:{}};var n=l["a"].config.widgets[t];Object.keys(n).forEach((function(t){i.$set(i.edit_config,t,"object"===Object(r["a"])(n[t])?Object.assign({},n[t]):n[t])})),console.log("starting edit of ".concat(t,", edit_config:"),this.edit_config)}else console.log("Unknown event in fixed-grid: handleEdit(".concat(t,", ").concat(e,")"))},cancelEdit:function(){this.edit_id=null,this.edit_config={},this.edit_move_ix=null},saveEdit:function(){var t=this;if(console.log("***** saveEdit for widget ".concat(this.edit_id)),!this.widgetEdited&&!this.widgetMoved)return this.notif_msg="Nothing changed",this.notif=!0,void window.setTimeout((function(){return t.cancelEdit()}),500);console.log("Edited",this.widgetEdited,this.widgetMoved),this.widgetEdited&&this.$emit("reconfig",{topic:"widgets/"+this.edit_id,payload:this.edit_config}),this.widgetMoved&&this.$emit("reconfig",{topic:"grids/".concat(this.id,"/widgets"),payload:this.widgets}),this.overlay=!0;var e=this,i=null,n=window.setTimeout((function(){console.log("Saving timed-out",e.widgetEdited,e.widgetMoved),e.notif_msg="Saving failed (or is slow)",e.notif=!0,e.overlay=!1,i&&i()}),5e3);i=this.$watch((function(){return e.widgetEdited||e.widgetMoved}),(function(){e.widgetEdited||e.widgetMoved||(e.overlay&&(e.overlay=!1),n&&window.clearTimeout(n),i(),e.cancelEdit())}),{deep:!0,immediate:!0})},deleteWidget:function(){var t=this.edit_id;console.log("Deleting widget ".concat(t)),this.handleEdit(t,"cancel");var e=this.config.widgets.indexOf(t);e<0||(this.deleted_widget=[e,l["a"].config.widgets[t]],console.log("Deleted widget:",this.deleted_widget),delete l["a"].config.widgets[t],this.config.widgets.splice(e,1))},restoreWidget:function(){var t=Object(a["a"])(this.deleted_widget,2),e=t[0],i=t[1];console.log("Restoring widget ".concat(i.id)),l["a"].config.widgets[i.id]=i,this.config.widgets.splice(e,0,i.id),this.deleted_widget=null},moveWidget:function(t){var e=this.edit_id,i=null===this.edit_move_ix?this.config.widgets.indexOf(e):this.edit_move_ix;console.log("Moving widget ".concat(e," at ").concat(i," by ").concat(t)),i+=t,i>=0&&i<this.config.widgets.length&&(this.edit_move_ix=i)},adjustRows:function(t){var e=this.edit_config;e.rows=(e.rows||1)+t,e.rows<1&&(e.rows=1),e.rows>16&&(e.rows=16)},adjustCols:function(t){var e=this.edit_config;e.cols=(e.cols||1)+t,e.cols<1&&(e.cols=1),e.cols>16&&(e.cols=16)}}},L=B,W=(i("d787"),i("d0ef"),i("cc20")),F=i("8860"),z=i("da13"),U=i("5d23"),G=i("a797"),J=i("490a"),q=i("2db4"),K=i("e0c7"),H=i("71d9"),Y=Object(f["a"])(L,n,o,!1,null,"5395651a",null);e["default"]=Y.exports;p()(Y,{VBtn:g["a"],VChip:W["a"],VContainer:D["a"],VIcon:b["a"],VList:F["a"],VListItem:z["a"],VListItemTitle:U["b"],VMenu:T["a"],VOverlay:G["a"],VProgressCircular:J["a"],VSnackbar:q["a"],VSpacer:N["a"],VSubheader:K["a"],VToolbar:H["a"],VTooltip:V["a"]})},"34fc":function(t,e,i){"use strict";i("8896")},"3db1":function(t,e){t.exports={name:"Toggle",props:{value:{default:0},enabled:{default:!0},color:{default:"primary"},on_value:{default:!0},off_value:{default:!1},show_value:{default:!0}},data:function(){return{val:0}},computed:{bindings:function(){return{value:this.val,disabled:!this.enabled,color:this.color,trueValue:this.on_value,falseValue:this.off_value,label:this.show_value?this.label:void 0}},label:function(){var t=this.val==this.on_value?this.on_value:this.off_value;return"".concat(t)}},watch:{value:function(t){this.val=t}},methods:{change:function(t){console.log("toggle event:",t),this.$emit("send",t)}}}},"3eb2":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex"},[i("v-switch",t._b({staticClass:"ma-auto",on:{change:function(e){return t.change(e)}}},"v-switch",t.bindings,!1))],1)},o=[]},4393:function(t,e,i){},"4bff":function(t,e,i){"use strict";i("abdd")},"4c51":function(t,e,i){},5224:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%"}},[i("v-sparkline",t._b({ref:"sparkl"},"v-sparkline",t.bindings,!1))],1)},o=[]},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("c1f9"),i("d81d"),i("d3b7"),i("ddb0"),i("ac1f"),i("5319"),i("1276"),i("99af");var n=i("2b0e"),o=i("ce5b"),a=i.n(o);i("bf40");n["default"].use(a.a);var r=new a.a({theme:{options:{variations:!1,customProperties:!0},themes:{light:{background:"#f7f5f5",surface:"#fffdfd",panel:"#f4f2f2",primary:"#ad1625",primary_light:"#e5504d",primary_dark:"#760000",error:"#ec7422",highlight:"#fff5ce"},dark:{background:"#0b0808",surface:"#201d1d",panel:"#262424",primary:"#ad1625",primary_light:"#e5504d",primary_dark:"#760000",error:"#ec7422",highlight:"#716741"}}}}),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-navigation-drawer",{attrs:{app:""},model:{value:t.sidebar,callback:function(e){t.sidebar=e},expression:"sidebar"}}),i("v-app-bar",{attrs:{dense:"",app:"",flat:t.$root.editMode,color:"surface"}},[i("span",{staticClass:"hidden-sm-and-up"},[i("v-app-bar-nav-icon",{on:{click:function(e){t.sidebar=!t.sidebar}}})],1),i("v-toolbar-title",{staticStyle:{width:"10ex"}},[i("b",[t._v(t._s(t.appTitle))])]),i("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(e){return i("v-tab",{key:e.id},[i("v-icon",{attrs:{large:""}},[t._v("mdi-"+t._s(e.icon))])],1)})),1),i("demo",{on:{msg:t.handleMsg}}),i("uib",{ref:"uib",on:{msg:t.handleMsg}}),i("v-menu",{attrs:{"offset-x":"","min-width":"10em"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),n),[i("v-icon",[t._v("mdi-cog")])],1)]}}]),model:{value:t.settings_menu,callback:function(e){t.settings_menu=e},expression:"settings_menu"}},[i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-switch",{attrs:{inset:"",label:"Edit"},model:{value:t.$root.editMode,callback:function(e){t.$set(t.$root,"editMode",e)},expression:"$root.editMode"}})],1),i("v-list-item",[i("v-switch",{attrs:{inset:"",label:"Dark"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)],1)],1)],1),i("v-main",[t.gotConfig?i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("div",{style:{backgroundColor:t.$vuetify.theme.themes[t.theme].background}},t._l(t.tabs,(function(e){return i("v-tab-item",{key:e.id},t._l(e.grids,(function(e){return i(t.grids[e].kind,{key:e.id,tag:"component",attrs:{id:e},on:{reconfig:function(e){return t.reconfig(e)}}})})),1)})),1)]):i("div",[t._v(" LOADING... ")])],1)],1)},c=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mx-2"},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",icon:"",color:t.color}},Object.assign({},{click:t.handleClick},n)),[i("v-icon",[t._v("mdi-network")])],1)]}}])},[i("span",[t._v("Enable socket.io connection")])])],1)},u=[],d=i("e900"),f=i.n(d);window.uib_started=!1;var h={name:"Uib",data:function(){return{enabled:!1,connected:!1,msgCount:0}},computed:{color:function(){return this.enabled?this.connected?"green":"error":null}},created:function(){console.log("uib created")},deleted:function(){f.a.clearEventListeners(),console.log("uib deleted")},mounted:function(){this.enabled&&this.start()},methods:{start:function(){var t=this,e=f.a.get("ioConnected");console.log("uib mounted, uib_started=".concat(window.uib_started," Connected=").concat(e)),f.a.clearEventListeners();var i="/uib-flexdash";f.a.start({namespace:i,ioPath:"/uibuilder/vendor/socket.io",vueApp:null}),window.uib_started&&f.a.sendCtrl({from:"client",cacheControl:"REPLAY"}),window.uib_started=!0,f.a.onChange("msg",(function(e){t.msgCount++,this.enabled&&t.$emit("msg",e)})),f.a.onChange("ioConnected",(function(e){t.connected=!!e}))},send:function(t){f.a.send(t)},handleClick:function(){this.enabled=!this.enabled,window.uib_started||this.start()}}},p=h,g=i("2877"),v=i("6544"),m=i.n(v),b=i("8336"),_=i("132d"),y=i("3a2f"),w=Object(g["a"])(p,l,u,!1,null,null,null),k=w.exports;m()(w,{VBtn:b["a"],VIcon:_["a"],VTooltip:y["a"]});var C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mx-2"},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{small:"",icon:"",color:t.color}},Object.assign({},{click:t.handleChange},n)),[i("v-icon",[t._v("mdi-dice-multiple")])],1)]}}])},[i("span",[t._v("Enable random demo data to be fed into demo_*.")])])],1)},x=[],S=i("3835"),O=["kitchen","bedroom","study","living room","guest room"],E=function(){var t={};return function(e){var i=t[e]||[70,0,0,0],n=Object(S["a"])(i,4),o=n[0],a=n[1],r=n[2],s=n[3];function c(){var t;if(a)t=s*r;else{var e;do{e=2*Math.random()-1,s=2*Math.random()-1,r=e*e+s*s}while(r>=1);r=Math.sqrt(-2*Math.log(r)/r),t=e*r}return a^=1,t}var l,u=50,d=90;do{l=c()}while(o+l<u||o+l>d);return o+=l,t[e]=[o,a,r,s],o}}(),D={tabs:[{id:"t0",icon:"view-dashboard",grids:["g0"]},{id:"t1",icon:"home-thermometer",grids:["g1","g2"]}],grids:{g0:{id:"g0",kind:"fixed-grid",widgets:["0","3","2","9","6","7","8","10","11","12","13","14"]},g1:{id:"g1",kind:"fixed-grid",widgets:[]},g2:{id:"g2",kind:"fixed-grid",widgets:[]}},widgets:{0:{kind:"Stat",id:"0",static:{title:"Bedroom",value:"cold",unit:"F"},dynamic:{value:"bedroom"},rows:1,cols:1},2:{kind:"Stat",id:"2",static:{title:"Guest Room",unit:"F"},dynamic:{value:"guest room"},rows:1,cols:1},3:{kind:"Gauge",id:"3",static:{title:"Living Room",value:50,arc:270,center:!0,unit:"F",needle_color:"red",min:30},dynamic:{value:"living room"},rows:2,cols:2},6:{kind:"Gauge",id:"6",static:{title:"Kitchen",color:"lightblue",arc:90,unit:"F",min:0},dynamic:{value:"kitchen"},rows:1,cols:1},7:{kind:"Toggle",id:"7",static:{title:"light",off_value:"0",on_value:"ON",color:"secondary",value:"ON"},dynamic:{_output:"light",value:"light"},rows:1,cols:1},8:{kind:"PushButton",id:"8",static:{title:"launch",color:"secondary",output_value:"ON",icon:"rocket-launch",tooltip:"Next stop: Mars!"},dynamic:{_output:"light"},rows:1,cols:1},9:{kind:"PushButton",id:"9",static:{title:"",icon:"watering-can"},dynamic:{},rows:1,cols:1},10:{kind:"Gauge",id:"10",static:{title:"Kitchen",arc:180,base_color:"lightgreen",color:"blue",unit:"F",radius:90,needle_color:"white"},dynamic:{value:"kitchen"},rows:1,cols:1},11:{kind:"Sparkchart",id:"11",static:{title:"Livingrm",color:"green",line_width:4,fill:!0},dynamic:{value:"living room"},rows:1,cols:1},12:{kind:"Sparkchart",id:"12",static:{title:"Living Room",bars:!0},dynamic:{value:"living room"},rows:1,cols:1},13:{kind:"Sparkchart",id:"13",static:{title:"Kitchen"},dynamic:{value:"kitchen"},rows:1,cols:2},14:{kind:"TimePlot",id:"14",static:{title:"Temperatures"},dynamic:{data:"temp_data",options:"temp_opts"},rows:4,cols:4}}},T={series:[{label:"time"},{label:"Sensor 1",scale:"C",value:"v.toFixed(1) + '°C'"},{label:"Sensor 2",scale:"C",value:"v.toFixed(1) + '°C'"},{label:"Sensor 3",scale:"C",value:"v.toFixed(1) + '°C'"}],axes:[{},{scale:"F",values:'vv.map(v => v + "°F")'},{scale:"C",values:'vv.map(v => v + "°C")',side:1,grid:{show:!1}}],scales:{F:{from:"C",range:"[ min*9/5+32, max*9/5+32 ]"}}},$={name:"Demo",data:function(){return{enable:!0,timers:[]}},computed:{color:function(){return this.enable?"green":null}},mounted:function(){this.enable&&(this.enable=!1,this.handleChange(),window.setTimeout(this.tick,3e3))},methods:{handleChange:function(){var t=this;if(this.enable=!this.enable,console.log("Demo switch changed to",this.enable),this.enable){this.$emit("msg",{topic:"$config",payload:D});for(var e=function(e){t.timers.push(window.setInterval((function(){return t.tick(O[e])}),5e3+1e3*e)),t.tick(O[e])},i=0;i<O.length;i++)e(i);this.$emit("msg",{topic:"temp_opts",payload:T}),this.timers.push(window.setInterval(this.plot,3e3)),this.plot()}else this.timers.map((function(t){return window.clrInterval(t)})),this.timer=[]},tick:function(t){var e=Math.round(10*E(t))/10;this.$emit("msg",{topic:"".concat(t),payload:e})},plot:function(){var t=[Date.now()/1e3,Math.round(10*E("p1"))/10,Math.round(10*E("p2"))/10,Math.round(10*E("p3"))/10];this.$emit("msg",{topic:"temp_data",payload:t})}}},N=$,j=Object(g["a"])(N,C,x,!1,null,null,null),A=j.exports;m()(j,{VBtn:b["a"],VIcon:_["a"],VTooltip:y["a"]});var V=i("c0d6"),M={name:"Dash",components:{Uib:k,Demo:A},data:function(){return{appTitle:"FlexDash",sidebar:!1,gotConfig:!1,tab:0,settings_menu:null,settings:{edit:"Edit mode",theme:"Toggle theme"}}},computed:{tabs:function(){return this.gotConfig&&Array.isArray(V["a"].config.tabs)&&V["a"].config.tabs.length?V["a"].config.tabs:(console.log("No tabs yet"),[])},grids:function(){return V["a"].config.grids},theme:function(){return this.$vuetify.theme.dark?"dark":"light"},_sd:function(){return V["a"].sd},_config:function(){return V["a"].config}},provide:function(){var t=this;return{sendSrv:function(e,i){t.$refs.uib.send({topic:e,payload:i})}}},methods:{reconfig:function(t){if(console.log("config save: ",t),t.topic)if(t.topic="$config/"+t.topic,this.$refs.uib.$data.enabled)this.$refs.uib.send(t);else{console.log("In-memory insert");var e=JSON.parse(JSON.stringify(t));window.setTimeout((function(){return V["a"].insertData(e)}),1e3)}},handleMsg:function(t){"topic"in t&&"payload"in t?("$config"===t.topic&&(console.log("*** config received"),this.gotConfig=!0,t.payload&&t.payload.tabs||(console.log("*** No or broken config, clearing! (got:",t.payload),this.$refs.uib.send({topic:"$config.tabs",payload:{tab0:{id:"tab0",icon:"view-dashboard",grids:["grid0"]}}}),this.$refs.uib.send({topic:"$config.grids",payload:{grid0:{id:"grid0",kind:"fixed-grid",widgets:[]}}}))),V["a"].insertData(t)):console.log("Message w/out topic/payload:",t)}}},P=M,R=(i("b0f1"),i("7496")),I=i("40dc"),B=i("5bc1"),L=i("8860"),W=i("da13"),F=i("f6c4"),z=i("e449"),U=i("f774"),G=i("b73d"),J=i("71a3"),q=i("c671"),K=i("fe57"),H=i("aac8"),Y=i("2a7f"),Q=Object(g["a"])(P,s,c,!1,null,null,null),X=Q.exports;m()(Q,{VApp:R["a"],VAppBar:I["a"],VAppBarNavIcon:B["a"],VBtn:b["a"],VIcon:_["a"],VList:L["a"],VListItem:W["a"],VMain:F["a"],VMenu:z["a"],VNavigationDrawer:U["a"],VSwitch:G["a"],VTab:J["a"],VTabItem:q["a"],VTabs:K["a"],VTabsItems:H["a"],VToolbarTitle:Y["a"]});var Z=i("67b0");function tt(t){return Object.fromEntries(t.keys().map((function(e){var i=t(e),o=e.split("/").pop().replace(/\.\w+$/,""),a=o.replace(/-\w/g,(function(t){return t[1].toLocaleUpperCase()}));return a=a[0].toLocaleUpperCase()+a.substr(1),n["default"].component(a,i.default||i),console.log("Imported ".concat(a," globally from ").concat(e)),[a,i.default]})))}window.io=i("8055"),n["default"].config.productionTip=!1,n["default"].use(Z["a"]),n["default"].loadScript("./date_helpers.js");var et=i("5a91");window.widgetPalette=tt(et);var it=i("ac25");window.gridPalette=tt(it),new n["default"]({vuetify:r,data:{editMode:!0},render:function(t){return t(X)}}).$mount("#app")},"58a3":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gauge-card d-flex"},[i("svg-gauge",t._b({style:t.gauge_valign,attrs:{value:t.value}},"svg-gauge",t.$props,!1)),i("div",{staticClass:"gauge-card--label d-flex flex-column mx-auto",class:t.txt_valign},[i("v-card-text",{staticClass:"gauge-value d-flex pa-0 width100"},[i("span",{staticClass:"mx-auto"},[t._v(t._s(t.valTxt)),i("span",{staticClass:"unit"},[t._v(t._s(t.unitTxt))])])]),t.title?i("v-card-text",{staticClass:"gauge-title d-flex pa-0"},[i("span",{staticClass:"mx-auto"},[t._v(t._s(t.title))])]):t._e()],1)],1)},o=[],a=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticClass:"gauge",attrs:{viewBox:t.vbox,preserveAspectRatio:t.ar}},[i("circle",{staticClass:"gauge-base",attrs:{cx:"0",cy:"0",fill:"transparent",r:t.stroke_radius,stroke:t.base_color,"stroke-width":t.stroke_width,transform:t.xform,"stroke-dasharray":t.stroke_bdash}}),i("circle",{staticClass:"gauge-stroke",attrs:{cx:"0",cy:"0",fill:"transparent",r:t.stroke_radius,stroke:t.color,"stroke-width":t.stroke_width,transform:t.xform,"stroke-dasharray":t.stroke_sdash}}),i("line",{staticClass:"gauge-needle",attrs:{x1:t.needle_start,y1:0,x2:100,y2:0,stroke:t.needle_color,"stroke-width":"2",transform:t.nform}})])}),r=[],s=(i("99af"),{name:"SvgGauge",props:{min:{type:Number,default:0},max:{type:Number,default:100},value:{type:Number,default:30},color:{type:String,default:"--v-purple-base"},base_color:{type:String,default:"lightgrey"},needle_color:{type:String,default:"white"},radius:{type:Number,default:70},arc:{type:Number,default:270},stretch:{type:Boolean,default:!1}},computed:{frac:function(){var t=(this.value-this.min)/(this.max-this.min);return Math.min(1,Math.max(0,t))},stroke_width:function(){return 100-this.radius},stroke_radius:function(){return 100-this.stroke_width/2},needle_start:function(){return 100-1.25*this.stroke_width},circumference:function(){return 2*this.stroke_radius*Math.PI},stroke_bdash:function(){var t=this.arc*this.circumference/360;return"".concat(t," ").concat(this.circumference)},stroke_sdash:function(){var t=this.arc*this.frac*this.circumference/360;return"".concat(t," ").concat(this.circumference)},xform:function(){return"rotate(".concat(270-this.arc/2,", 0, 0)")},nform:function(){return"rotate(".concat(270-this.arc/2+this.arc*this.frac,", 0, 0)")},ar:function(){return this.stretch?"none":"xMidYMid"},vbox:function(){var t=this.arc>=180?100:this.needle_start,e=(this.arc-180)/2*Math.PI/180,i=100+t*Math.sin(e),n=this.arc>=180?200:200*Math.cos(e);return"-".concat(n/2," -100 ").concat(n," ").concat(i)}}}),c=s,l=i("2877"),u=Object(l["a"])(c,a,r,!1,null,null,null),d=u.exports,f={name:"Gauge",components:{SvgGauge:d},props:{value:{type:Number,default:null},unit:{type:String,default:""},title:{type:String,default:"Gauge"},arc:{type:Number,default:90},center:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},color:{type:String,default:"green"},base_color:{type:String,default:"lightgrey"},needle_color:{type:String,default:"white"},radius:{type:Number,default:70},stretch:{type:Boolean,default:!1}},computed:{txt_valign:function(){var t=null!==this.center?this.center:!(this.arc<200);return t?"my-auto":"mt-auto"},gauge_valign:function(){return this.arc<180?"height:auto;":""},unitTxt:function(){return"--"===this.value?"":this.unit},valTxt:function(){return"number"==typeof this.value?Math.round(10*this.value)/10:null===this.value?"--":this.value}}},h=f,p=(i("8d82"),i("6544")),g=i.n(p),v=i("99d9"),m=Object(l["a"])(h,n,o,!1,null,"2d00ca10",null);e["default"]=m.exports;g()(m,{VCardText:v["a"]})},"5a91":function(t,e,i){var n={"./gauge.vue":"58a3","./push-button.vue":"63e2","./sparkchart.vue":"1ec4","./stat.vue":"254b","./time-plot.vue":"6bc8","./toggle.vue":"a9ef"};function o(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="5a91"},"5cc2":function(t,e){t.exports={name:"PushButton",props:{enabled:{default:!0},color:{default:"primary"},output_value:{default:25},icon:{default:null},title:{default:"Button"},tooltip:{default:null}},computed:{bindings:function(){return{disabled:!this.enabled,color:this.color}}},methods:{clickEv:function(t){console.log("PushButton event:",t),this.$emit("send",this.output_value)}}}},"63e2":function(t,e,i){"use strict";i.r(e);var n=i("dc81"),o=i("829b");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("34fc");var r=i("2877"),s=i("6544"),c=i.n(s),l=i("8336"),u=i("132d"),d=i("3a2f"),f=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"68ce9d17",null);e["default"]=f.exports,c()(f,{VBtn:l["a"],VIcon:u["a"],VTooltip:d["a"]})},"6bc8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"px-1"},[i("div",{staticStyle:{"xx-background-color":"#eef"}})])}],a=(i("99af"),i("d81d"),i("159b"),i("cb29"),i("d3b7"),i("ddb0"),i("07ac"),i("ab54")),r=(i("fa7e"),["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#ffffff","#000000"]),s={name:"TimePlot",props:{options:{type:Object,default:function(){return null}},data:{type:Array,default:function(){},validator:function(t){return Array.isArray(t)&&t.length}}},data:function(){return{chart:null,ro:null,width:40,chart_data:null,dark_watcher:null}},watch:{options:function(){console.log("Time-plot options changed"),this._destroy(),this._create()},data:function(t){if(t){var e=Array.isArray(t[0]);if(this.chart&&this.chart_data&&!e){for(var i=this.chart_data.length,n=0;n<i;n++)this.chart_data[n].push(t[n]);var o=Math.max(this.width/2,20);while(this.chart_data[0].length>o)for(var a=0;a<i;a++)this.chart_data[a].shift();this.chart.setData(this.chart_data)}else this.chart&&this._destroy(),this.chart_data=this._transpose(e?t:[t]),this._create()}}},mounted:function(){var t=this;this._create(),this.ro=new ResizeObserver(this._onResize).observe(this.$el);var e=this;this.dark_watcher=this.$watch((function(){return e.$vuetify.theme.dark}),(function(){t._destroy(),t._create()}))},beforeDestroy:function(){console.log("BeforeDestroy uPlot"),this.ro&&this.ro.unobserve(this.$el),this.ro=null,this._destroy(),this.dark_watcher()},methods:{_destroy:function(){this.chart&&(console.log("Destroying uPlot"),this.chart.destroy(),this.chart=null)},_calcSize:function(){var t=this.options.width||this.$el.children[0].clientWidth,e=this.options.height||t/(this.options.aspect||2);return console.log("Time-plot container sized to ".concat(t,"x").concat(e)),this.width=t,{width:t,height:e}},_onResize:function(){this.chart&&this.chart.setSize(this._calcSize())},_transpose:function(t){if(!t||0==t.length)return[];t[0].map;var e=t[0].map((function(){return Array(t.length)}));return t.forEach((function(t,i){t.forEach((function(t,n){e[n][i]=t}))})),e},_create:function(){var t=this;if(console.log("Creating uPlot"),this.chart_data&&0!==this.chart_data.length){var e=JSON.parse(JSON.stringify(this.options));Object.assign(e,this._calcSize()),e.series||(e.series=[]);while(e.series.length<this.chart_data.length)e.series.push({});e.series.forEach((function(e,i){e.label||(e.label=i?"series "+i:"time"),i&&(e.stroke||(e.stroke=r[(i-1)%20]),e.width||(e.width=2),"string"===typeof e.value&&(e.value=new Function("u","v",'"use strict";return ('.concat(e.value,")")))),t.$vuetify.theme.dark&&(e.points||(e.points={}),e.points.fill||(e.points.fill="#1e1e1e"))})),(!e.axes||e.axes.length<2)&&(e.axes=[{},{}]),e.axes.forEach((function(e){e.values&&"string"===typeof e.values&&(e.values=new Function("u","vv","s",'"use strict";return ('.concat(e.values,")"))),t.$vuetify.theme.dark&&(e.grid||(e.grid={}),e.grid.stroke||(e.grid.stroke="#444"),e.stroke||(e.stroke="#ccc"))})),Object.values(e.scales||{}).forEach((function(t){t.range&&"string"===typeof t.range&&(t.range=new Function("u","min","max",'"use strict";return ('.concat(t.range,")")))})),console.log("uPlot options:",e),this.chart=new a["a"](e,this.chart_data,this.$el.children[0])}}}},c=s,l=(i("fe07"),i("2877")),u=Object(l["a"])(c,n,o,!1,null,null,null);e["default"]=u.exports},7408:function(t,e,i){},"829b":function(t,e,i){"use strict";i.r(e);var n=i("5cc2"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},8420:function(t,e,i){},8896:function(t,e,i){},"8d82":function(t,e,i){"use strict";i("8420")},"9d9d":function(t,e,i){"use strict";i.r(e);var n=i("26df"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},a9ef:function(t,e,i){"use strict";i.r(e);var n=i("3eb2"),o=i("07c0");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var r=i("2877"),s=i("6544"),c=i.n(s),l=i("b73d"),u=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports,c()(u,{VSwitch:l["a"]})},abdd:function(t,e,i){},ac25:function(t,e,i){var n={"./fixed-grid.vue":"322f"};function o(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="ac25"},b0f1:function(t,e,i){"use strict";i("4c51")},b329:function(t,e,i){},bf03:function(t,e,i){i("a9e3"),i("cb29"),t.exports={name:"Sparkchart",props:{value:{default:0},color:{type:String,default:"blue"},fill:{type:Boolean,default:!1},line_width:{type:Number,default:4},bars:{type:Boolean,default:!1}},data:function(){return{data:[],ro:null,height:10,width:20}},computed:{bindings:function(){return{color:this.color,fill:this.fill,lineWidth:this.line_width,padding:this.line_width,value:this.data,type:this.bars?"bar":"trend",autoLineWidth:!!this.bars,height:this.height,width:this.width}}},mounted:function(){var t=this;this.$nextTick((function(){t.$el.offsetParent||console.log("oops1"),t.ro=new ResizeObserver(t._onResize).observe(t.$el.offsetParent)}))},beforeUnmount:function(){this.ro&&this.ro.unobserve(this.$el.offsetParent)},watch:{value:function(t){"number"===typeof t||null===t?(this.data.push(t),this.data.length>20&&this.data.unshift()):Array.isArray(t)&&(this.data=t)}},methods:{_onResize:function(){this.$el.offsetParent||console.log("oops2"),this.height=this.$el.offsetParent.clientHeight-this.$el.offsetTop,this.width=this.$el.offsetParent.clientWidth,console.log("_onResize",this.color,"Height:",this.height)}}}},c0d6:function(t,e,i){"use strict";var n=i("d4ec"),o=i("bee2"),a=i("53ca"),r=(i("159b"),i("9129"),i("a9e3"),i("99af"),i("ac1f"),i("1276"),i("2b0e"));function s(t,e){var i=t;return e.forEach((function(t){if(Array.isArray(i)){var n=parseInt(t,10);if(Number.isNaN(n))return void console.log("Array index '".concat(t,"' in '").concat(e,"' is not an int"));if(n<0||n>=i.length)return void console.log("Array index '".concat(t,"' in '").concat(e,"' > ").concat(i.length));i=i[n]}else{if("object"!==Object(a["a"])(i))return void console.log("Level '".concat(t,"' of '").concat(e,"'' is not traversable: ").concat(Object(a["a"])(i[t])));t in i&&"undefined"!==typeof i[t]||r["default"].set(i,t,{}),i=i[t]}})),i}var c=function(){function t(){return Object(n["a"])(this,t),this.root=r["default"].observable({sd:{},$config:{}}),this.sd=this.root.sd,this.config=this.root.$config,this}return Object(o["a"])(t,[{key:"insertData",value:function(t){var e=t.topic.split("/");if(e.length>0){if("$config"===t.topic)return r["default"].set(this.root,"$config",t.payload),this.config=this.root.$config,void console.log("Replaced $config with:",t.payload);"$config"!==e[0]&&e.unshift("sd");var i=e.pop(),n=s(this.root,e);if(n)if(Array.isArray(n)){var o=parseInt(i,10);Number.isNaN(o)||(o>=0&&o<n.length?(console.log("Updated array elt ".concat(t.topic," with"),t.payload),r["default"].set(n,o,t.payload)):o==n.length?(console.log("Appended array elt ".concat(t.topic," with"),t.payload),n[o].push(t.payload)):console.log("Array index '".concat(o,"' in '").concat(t.topic,"' > ").concat(n.length)))}else{if("object"!==Object(a["a"])(n))return void console.log("".concat(t.topic," is neither Array nor Object in server state"));console.log("Updated ".concat(t.topic," with:"),t.payload),r["default"].set(n,i,t.payload)}}else console.log("Cannot replace entire tree")}}]),t}(),l=new c;e["a"]=l},d0ef:function(t,e,i){"use strict";i("7408")},d787:function(t,e,i){"use strict";i("f359")},dc81:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pushbutton d-flex"},[i("v-tooltip",{attrs:{top:"","open-on-hover":!!t.tooltip},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"ma-auto",attrs:{large:"",dense:"","max-width":"95%"},on:{click:function(e){return t.clickEv(e)}}},"v-btn",Object.assign(t.bindings,o),!1),n),[t.icon?i("v-icon",{attrs:{large:!t.title}},[t._v("mdi-"+t._s(t.icon))]):t._e(),t._v(" "),i("span",[t._v(t._s(t.title))])],1)]}}])},[t.tooltip?i("span",[t._v(t._s(t.tooltip))]):t._e()])],1)},o=[]},e900:function(t,e,i){"use strict";var n=i("7037").default;if(i("8a79"),i("fb6a"),i("ac1f"),i("5319"),i("466d"),i("4de4"),i("1276"),i("498a"),i("a15b"),i("b0c0"),i("159b"),i("b64b"),i("99af"),i("d81d"),"undefined"===typeof o)var o=i("8055");(function(){var i=this,a=i.uibuilder,r=function(){String.prototype.endsWith||(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)});var t=this;t.version="3.3.0",t.debug=!1,t.moduleName="uibuilder",t.isUnminified=/param/.test((function(t){})),t.dummyAuth={id:null,jwt:void 0,sessionExpiry:void 0,userValidated:!1,info:{error:void 0,message:void 0,validJwt:void 0}},t._auth=void 0,t.started=!1,t.uiDebug=function(){if(t.debug){var e=arguments[0];console[e].apply(console,[].slice.call(arguments,1))}},t.me=function(){return!0===t.debug?t:"uibuilderfe.js Version: "+t.version},t.uiDebug("log","\nuibuilderfe: Debug? ",t.debug,"\n\t\tVersion? ",t.version,"\n\t\tRunning Packed version? ",!t.isUnminified,"\n "),t.setIOnamespace=function(){var e="";try{e=document.cookie.match(/uibuilder-namespace\s*=.*?\s*;/g)[0].replace("uibuilder-namespace=","").replace(";","")}catch(n){}if(""===e){var i=window.location.pathname.split("/").filter((function(t){return""!==t.trim()}));i.length>0&&i[i.length-1].endsWith(".html")&&i.pop(),e=i.pop(),t.uiDebug("log","uibuilderfe: IO Namespace - Found via url path: "+e)}else t.uiDebug("log","uibuilderfe: IO Namespace - Found via cookie: "+e);return e="/"+e,t.uiDebug("log","uibuilderfe: IO Namespace: "+e),e},t.autoSendReady=!0,t.allowScript=!0,t.allowStyle=!0,t.removeScript=!0,t.removeStyle=!0,t.msg={},t.ctrlMsg={},t.sentMsg={},t.sentCtrlMsg={},t.msgsSent=0,t.msgsReceived=0,t.msgsSentCtrl=0,t.msgsCtrl=0,t.ioConnected=!1,t.serverTimeOffset=null,t.isAuthorised=!1,t.authTokenExpiry=null,t.authData={},t.ioChannels={control:"uiBuilderControl",client:"uiBuilderClient",server:"uiBuilder"},t.retryMs=2e3,t.retryFactor=1.5,t.timerid=null,t.ioNamespace=t.setIOnamespace(),t.ioTransport=["polling","websocket"],t.loaded=!1,t.authToken="";var e=window.location.pathname.split("/").filter((function(t){return""!==t.trim()}));return e.length>0&&e[e.length-1].endsWith(".html")&&e.pop(),t.url=e.pop(),t.httpNodeRoot="/"+e.join("/"),t.ioPath=c(t.httpNodeRoot,t.moduleName,"vendor","socket.io"),t.uiDebug("debug","uibuilderfe: ioPath: "+t.ioPath+", httpNodeRoot: "+t.httpNodeRoot+", uibuilder url (not used): "+t.url),t.set=function(e,i){t[e]=i,t.uiDebug("debug","uibuilderfe: prop set - prop: "+e+", val: "+("object"===n(i)?JSON.stringify(i):i)),t.emit(e,i)},t.checkConnect=function(e,i){var n=n++||1;t.uiDebug("debug","uibuilderfe:checkConnect. Reconnect - Depth: "+n+", Delay: "+e+", Factor: "+i,t.ioNamespace,t.ioPath),t.timerid&&window.clearTimeout(t.timerid),t.timerid=window.setTimeout((function(){t.uiDebug("debug","uibuilderfe:checkConnect timeout. SIO reconnect attempt, timeout: "+e+", depth: "+n,t.ioNamespace,t.ioPath),console.info("[uibuilderfe:checkConnect:setTimeout] Socket.IO reconnection attempt. Current delay: "+e),t.socket.close(),t.socket.connect(),t.timerid=null,t.checkConnect(e*i,i)}),e)},t.checkTimestamp=function(e){if(e.hasOwnProperty("serverTimestamp")){var i=new Date(e.serverTimestamp),n=Math.round((new Date-i)/36e5);n!==t.serverTimeOffset&&(t.set("serverTimeOffset",n),t.uiDebug("log","uibuilderfe:"+t.ioChannels.server+" (server): Offset changed to: "+n))}},t.ioSetup=function(){t.uiDebug("debug","uibuilderfe:ioSetup: About to create IO. Namespace: "+t.ioNamespace+", Path: "+t.ioPath+", Transport: ["+t.ioTransport.join(", ")+"]"),t.socketOptions={path:t.ioPath,transports:t.ioTransport,transportOptions:{polling:{extraHeaders:{"x-clientid":"uibuilderfe"}}}},t.socket=o(t.ioNamespace,t.socketOptions),t.socket.on("connect",(function(){t.uiDebug("info","uibuilderfe:ioSetup: SOCKET CONNECTED - Namespace: "+t.ioNamespace," Server Channel: ",t.ioChannels.server," Control Channel: ",t.ioChannels.control),t.set("ioConnected",!0),t.timerid&&(window.clearTimeout(t.timerid),t.timerid=null)})),t.socket.on(t.ioChannels.server,(function(e){t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.server+" (server): msg received - Namespace: "+t.ioNamespace,e),e=s(e,"payload"),t.checkTimestamp(e),e._auth&&t.updateAuth(e._auth),t.allowScript&&e.hasOwnProperty("script")&&(t.newScript(e.script),t.removeScript&&delete e.script),t.allowStyle&&e.hasOwnProperty("style")&&(t.newStyle(e.style),t.removeStyle&&delete e.style),t.set("msg",e),t.set("msgsReceived",t.msgsReceived+1)})),t.socket.on(t.ioChannels.control,(function(e){if(t.uiDebug("debug","uibuilder:ioSetup:"+t.ioChannels.control+" (control): msg received - Namespace: "+t.ioNamespace,e),null===e)e={};else if("object"!==n(e)){var i={};i["uibuilderCtrl:"+t.ioChannels.control]=e,e=i}switch(e.hasOwnProperty("debug")&&(t.debug=e.debug),t.checkTimestamp(e),t.set("ctrlMsg",e),t.set("msgsCtrl",t.msgsCtrl+1),e.uibuilderCtrl){case"ready for content":e._auth&&t.updateAuth(e._auth),t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "ready for content" from server');break;case"shutdown":t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "shutdown" from server'),t.set("serverShutdown",void 0);break;case"client connect":e._auth&&t.updateAuth(e._auth),!0===t.autoSendReady&&(t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "client connect" from server, auto-sending REPLAY control msg'),t.send({uibuilderCtrl:"ready for content",cacheControl:"REPLAY"},t.ioChannels.control));break;case"authorised":t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "authorised" from server'),e._auth?t.updateAuth(e._auth):(t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "authorised" from server but without a _auth property - logon failed'),t.markLoggedOut("Logon succeeded but no _auth received, logged out"));break;case"authorisation failure":t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "authorisation failure" from server'),t.markLoggedOut("Logon authorisation failure",e._auth.authData);break;case"logged off":t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "logged off" from server'),t.markLoggedOut("Logged off by logout() request",e._auth);break;default:t.uiDebug("debug","uibuilderfe:ioSetup:"+t.ioChannels.control+' Received "'+e.uibuilderCtrl+'" from server'),e._auth&&t.updateAuth(e._auth)}})),t.socket.on("disconnect",(function(e){t.uiDebug("info","uibuilderfe:ioSetup: SOCKET DISCONNECTED - Namespace: "+t.ioNamespace+", Reason: "+e),t.set("ioConnected",!1),console.warn("[uibuilderfe:socket-disconnect] Reason: "+e),t.checkConnect(t.retryMs,t.retryFactor)})),t.socket.on("connect_error",(function(e){t.uiDebug("error","uibuilderfe:ioSetup: SOCKET CONNECT ERROR - Namespace: "+t.ioNamespace+" ioPath: "+t.ioPath+", Reason: "+e.message)})),t.socket.on("error",(function(e){t.uiDebug("warn","uibuilderfe:ioSetup: SOCKET ERROR from server - MESSAGE: ",e),t.set("socketError",e)})),t.checkConnect(t.retryMs,t.retryFactor)},t.markLoggedOut=function(e,i){void 0===t._auth&&void 0===i||(i=t.dummyAuth,void 0!==e&&(t._auth.info.message=e),t.set("isAuthorised",!1),t.set("_auth",i))},t.logon=function(e,i){void 0===t._auth&&void 0===e||(void 0===e&&(e=t._auth),void 0!==e.id&&null!==e.id&&0!==e.id.length?(e.info||(e.info=t.dummyAuth.info),t.set("_auth",e),i||t.send({uibuilderCtrl:"logon",from:"client",_auth:t._auth},t.ioChannels.control),t.uiDebug("log","[uibuilder:logon] ",t._auth)):console.error("[uibuilder:logon] No logon id supplied, ignoring request."))},t.logoff=function(e,i){void 0===t._auth&&void 0===e||(void 0===e&&(e=t._auth),void 0!==e.id&&null!==e.id&&0!==e.id.length?(e.info||(e.info=t.dummyAuth.info),t._auth=e,i||t.send({uibuilderCtrl:"logoff",from:"client",_auth:t._auth},t.ioChannels.control)):console.error("[uibuilder:logoff] No logoff id supplied, ignoring request."))},t.updateAuth=function(e){if(void 0!==t._auth||void 0!==e){if(void 0===e&&(e=t._auth),void 0===e.id||null===e.id||0===e.id.length)return console.error("[uibuilder:updateAuth] No auth id supplied by server, ignoring server response."),void(e.info&&e.info.error&&console.warn("[uibuilder:updateAuth] Error from Server: ",e.info.error));e.info||(e.info=t.dummyAuth.info),e.userValidated&&e.jwt&&!0===e.info.validJwt&&new Date(e.sessionExpiry)>new Date?(t.set("isAuthorised",!0),t.set("_auth",e)):t.markLoggedOut("Logon succeeded but no token received, logged out")}},t.sendAuth=function(){try{if(void 0===t._auth)return;return t.isAuthorised?(new Date(t._auth.sessionExpiry)>new Date||t.markLoggedOut("Automatically logged off. Token expired"),t._auth):t._auth}catch(e){return}},t.send=function(e,i){null!==i&&void 0!==i||(i=t.ioChannels.client),t.uiDebug("log","uibuilderfe: sending msg - Namespace: "+t.ioNamespace+", Channel: "+i,e),i===t.ioChannels.client?e=s(e,"payload"):i===t.ioChannels.control&&(e=s(e,"uibuilderCtrl"),e.hasOwnProperty("uibuilderCtrl")||(e.uibuilderCtrl="manual send"),e.from="client"),e._socketId=t.socket.id,e._auth=t.sendAuth(),i===t.ioChannels.client?(t.set("sentMsg",e),t.set("msgsSent",t.msgsSent+1)):i===t.ioChannels.control&&(t.set("sentCtrlMsg",e),t.set("msgsSentCtrl",t.msgsSentCtrl+1)),t.socket.emit(i,e)},t.onChange=function(e,i){t.events[e]?t.events[e].push(i):t.events[e]=[i]},t.clearEventListeners=function(){t.events=[]},t.events={},t.emit=function(e){var i=t.events[e];if(i)for(var n=Array.prototype.slice.call(arguments,1),o=0;o<i.length;o++)i[o].apply(t,n)},t.newScript=function(e){if(!0===t.allowScript&&""!==e&&"undefined"!==typeof e){t.uiDebug("log","uibuilderfe: newCode - script: "+e);var i=document.createElement("script");i.type="text/javascript",i.defer=!0,i.textContent=e,document.getElementsByTagName("body")[0].appendChild(i)}},t.newStyle=function(e){if(!0===t.allowStyle&&""!==e&&"undefined"!==typeof e){t.uiDebug("log","uibuilderfe: newStyle - style: "+e);var i=document.createElement("style");i.textContent=e,document.getElementsByTagName("head")[0].appendChild(i)}},t.showToast=function(e){if(t.vueApp)if(t.vueApp.$bvToast)if(e._uib&&null!==e._uib&&"Object"===e._uib.constructor.name){var i=t.vueApp.$createElement,n={};e._uib.options&&(n=Object.assign({},e._uib.options));var o="";e.payload&&(o+=e.payload),n.content&&(o+=n.content);var a=i("p",{domProps:{innerHTML:o}});n.title&&(n.title=i("p",{domProps:{innerHTML:n.title}})),n.append&&(n.appendToast=n.append),n.autoHideDelay&&(n.autohide=!0,n.delay=n.autoHideDelay),""!==o?t.vueApp.$bvToast.toast(a,n):console.warn("[uibuilder:toast] Toast content is blank. Not shown.")}else console.warn("[uibuilder:toast] Incoming msg requires msg._uib object, cannot create a toast");else console.warn("[uibuilder:toast] bootstrap-vue toast component not available, cannot create a toast");else console.warn("[uibuilder:toast] Vue app object not available, cannot create a toast")},t.showAlert=function(){},t.showComponentDetails=function(e){if(t.vueApp&&t.vueApp.$refs[e]){var i=t.vueApp.$refs[e],n={};if(i.$options)n={uibuilderCtrl:"vue component details",componentDetails:{ref:e,tag:i.$options._componentTag,props:i.$options._propKeys}};else{var o='[uibuilderfe:showComponentDetails] ref="'.concat(e,'" is not a Vue Component. Details cannot be returned.');t.uiDebug("warn",o),n={uibuilderCtrl:"vue component details",componentDetails:{warning:o,ref:e,tag:null,props:null}}}return n}},t.onChange("msg",(function(e){if(t.vueApp&&e._uib&&(!0===e._uib.reload&&(console.log("reloading"),location.reload()),e._uib.componentRef)){var i=t.vueApp,n=e._uib.componentRef;if(e._uib.requestDetails){var o=t.showComponentDetails(n);o&&(e.topic&&(o.topic=e.topic),t.send(o,t.ioChannels.control))}else if("globalNotification"!==n)if("globalAlert"!==n)if(n in i.$refs){if(e._uib.options&&(t.uiDebug("log","🔢📈 new component instance options received for ref",n,":",e._uib.options),Object.keys(e._uib.options).forEach((function(o){try{i.$set(i.$refs[n],o,e._uib.options[o])}catch(a){t.uiDebug("warn",'[uibuilderfe:internal:onChange] Could not update prop "'.concat(o,'" for component ref="').concat(n,'". Error: ').concat(a.message))}}))),e.payload){t.uiDebug("log","🔢📈 new component instance value received for ref",n,":",e.payload);try{i.$refs[n].$props["config"]["value"]=e.payload}catch(s){}}}else{var a='[uibuilderfe:internal:onChange] ref="'.concat(n,'" is not a Vue Component. Cannot set props.');t.uiDebug("warn",a);var r={uibuilderCtrl:"vue component details",componentDetails:{warning:a,ref:n,tag:null,props:null}};e.topic&&(r.topic=e.topic),t.send(r,t.ioChannels.control)}else t.showAlert(e);else t.showToast(e)}})),t.uiReturn={set:function(e,i){var n=["autoSendReady","ctrlMsg","debug","events","httpNodeRoot","ioChannels","ioConnected","ioNamespace","ioPath","ioTransport","isAuthorised","isUnminified","loaded","msg","msgsCtrl","msgsReceived","msgsSent","msgsSentCtrl","moduleName","retryFactor","retryMs","sentMsg","sentCtrlMsg","serverTimeOffset","socket","timerid","url","version","checkConnect","checkTimestamp","emit","get","ioSetup","logon","logoff","markLoggedOut","me","newScript","newStyle","onChange","self","set","send","sendAuth","sendCtrl","setIOnamespace","showComponentDetails","showToast","socket","uiDebug","updateAuth","uiReturn"];if(-1!==n.indexOf(e))return console.warn('[uibuilder:set] Cannot use set() on protected property "'+e+'"'),void t.uiDebug("warn",'uibuilderfe:uibuilder:set: "'+e+'" is in list of excluded properties, not set');if("_auth"===e){if(!i.id||0===i.id.length)return void console.warn("[uibuilder:set] _auth must contain a valid _auth.id property");i.info||(i.info=t.dummyAuth.info)}t.set(e,i)},get:function(e){var i=["checkConnect","checkTimestamp","emit","get","ioSetup","logon","logoff","markLoggedOut","me","newScript","newStyle","onChange","self","set","send","sendAuth","sendCtrl","setIOnamespace","showComponentDetails","showToast","socket","uiDebug","updateAuth","uiReturn"];return-1!==i.indexOf(e)?(console.warn('[uibuilder] Cannot use get() on protected property "'+e+'"'),void t.uiDebug("warn",'uibuilderfe:uibuilder:get: "'+e+'" is in list of excluded properties, not get')):(void 0===t[e]&&console.warn('[uibuilder] get() - property "'+e+'" does not exist'),t[e])},onChange:t.onChange,clearEventListeners:t.clearEventListeners,msg:t.msg,send:t.send,sendCtrl:function(e){t.send(e,t.ioChannels.control)},autoSendReady:function(e){!0!==e&&(e=!1),t.autoSendReady=e},debug:function(e){if("undefined"===typeof e)return t.debug;"boolean"===typeof e&&(t.debug=e)},uiDebug:t.uiDebug,me:t.me,start:function(e,i,n){!0!==t.started?(t.uiDebug("log","[uibuilderfe:start] start() called"),"[object Object]"===toString.call(e)?(t.uiDebug("log","✅ [uibuilderfe:start] namespace IS an object!"),!0===e._isVue?(t.uiDebug("log","✅ [uibuilderfe:start] Vue instance object IS available!"),n=e,e=void 0):(e.ioPath&&(i=e.ioPath),e.vueApp&&(n=e.vueApp),e=e.namespace?e.namespace:void 0)):n?"[object Object]"===toString.call(n)&&!0===n._isVue?t.uiDebug("log","✅ [uibuilderfe:start] Vue instance object IS available!"):(t.uiDebug("log","❌ [uibuilderfe:start] Vue instance object not available!"),n=void 0):t.uiDebug("log","❌ [uibuilderfe:start] app1 not available!"),t.uiDebug("log","[uibuilderfe:start] Calling params - namespace",e,"ioPath",i,"vueApp",n),void 0!==e&&null!==e&&(t.ioNamespace=e),void 0!==i&&null!==i&&(t.ioPath=i),void 0!==n&&null!==n&&(t.vueApp=n),t.uiDebug("log","[uibuilderfe:start] Final Socket.IO params - namespace",e,"ioPath",i),t.ioSetup(),t.started=!0):t.uiDebug("log","❌ [uibuilderfe:start] Start function already called. Do not call more than once.")},logon:t.logon,logoff:t.logoff,showComponentDetails:t.showComponentDetails,showToast:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"globalNotification",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={_uib:{componentRef:i,options:n},payload:e};t.showToast(o)},eventSend:function(e){if(e.constructor.name.endsWith("Event")&&e.currentTarget){var i=e.currentTarget,n="";try{""!==i.textContent&&(n=i.textContent.substring(0,25))}catch(o){}try{""!==i.name&&(n=i.name)}catch(o){}try{""!==i.id&&(n=i.id)}catch(o){}t.send({topic:t.msg.topic,uibDomEvent:{sourceId:n,event:e.type},payload:i.dataset})}else t.uiDebug("log","[uibuilderfe:eventSend] ARGUMENT NOT A DOM EVENT - use data attributes not function arguments to pass data")},automap:t.automap},window.addEventListener("load",(function(){t.uiDebug("debug","uibuilderfe:load: All resources loaded"),t.loaded=!0})),t.uiReturn}.call(i);function s(t,e){null!==e&&void 0!==e||(e="payload"),"string"!==typeof e&&(console.warn("[uibuilderfe:makeMeAnObject] WARNING: property parameter must be a string and not: "+n(e)),e="payload");var i={};return"object"===n(t)?i=t:null!==t&&(i[e]=t),i}function c(){var t=Array.prototype.slice.call(arguments),e="/"+t.map((function(t){return t.replace(/^\/|\/$/g,"")})).filter((function(t){return t})).join("/");return e.replace("//","/")}r.noConflict=function(){return i.uibuilder=a,r},t.exports&&(e=t.exports=r),e.uibuilder=r}).call(this)},f359:function(t,e,i){},fe07:function(t,e,i){"use strict";i("b329")},ff2c:function(t,e,i){"use strict";i("4393")}});
//# sourceMappingURL=app.4770af8a.js.map