import{n as t}from"./index.d7786540.js";import"./vue.1457ee3a.js";import"./vuetify.fdb6f834.js";function e(t,e,l,n){let i;l=l||0;let s=(n=n||e.length-1)<=2147483647;for(;n-l>1;)i=s?l+n>>1:g((l+n)/2),e[i]<t?l=i:n=i;return t-e[l]<=e[n]-t?l:n}function l(t,e,l,n){for(let i=1==n?e:l;i>=e&&i<=l;i+=n)if(null!=t[i])return i;return-1}const n=[0,0];function i(t,e,l,i){return n[0]=l<0?F(t,-l):t,n[1]=i<0?F(e,-i):e,n}function s(t,e,l,n){let s,o,r,u=10==l?k:y;return t==e&&(t/=l,e*=l),n?(s=g(u(t)),o=x(u(e)),r=i(v(l,s),v(l,o),s,o),t=r[0],e=r[1]):(s=g(u(m(t))),o=g(u(m(e))),r=i(v(l,s),v(l,o),s,o),t=C(t,r[0]),e=W(e,r[1])),[t,e]}function o(t,e,l,n){let i=s(t,e,l,n);return 0==t&&(i[0]=0),0==e&&(i[1]=0),i}const r={pad:0,soft:null,mode:0},u={min:r,max:r};function a(t,e,l,n){return N(l)?f(t,e,l):(r.pad=l,r.soft=n?0:null,r.mode=n?3:0,f(t,e,u))}function c(t,e){return null==t?e:t}function f(t,e,l){let n=l.min,i=l.max,s=c(n.pad,0),o=c(i.pad,0),r=c(n.hard,-S),u=c(i.hard,S),a=c(n.soft,S),f=c(i.soft,-S),h=c(n.mode,0),d=c(i.mode,0),p=e-t,w=p||m(e)||1e3,x=k(w),y=v(10,g(x)),M=F(C(t-w*(0==p?0==t?.1:1:s),y/10),6),z=t>=a&&(1==h||3==h&&M<=a||2==h&&M>=a)?a:S,D=b(r,M<z&&t>=z?z:_(z,M)),E=F(W(e+w*(0==p?0==e?.1:1:o),y/10),6),T=e<=f&&(1==d||3==d&&E>=f||2==d&&E<=f)?f:-S,A=_(u,E>T&&e<=T?T:b(T,E));return D==A&&0==D&&(A=100),[D,A]}const h=new Intl.NumberFormat(navigator.language).format,d=Math,p=d.PI,m=d.abs,g=d.floor,w=d.round,x=d.ceil,_=d.min,b=d.max,v=d.pow,k=d.log10,y=d.log2,M=(t,e=1)=>d.asinh(t/e),S=1/0;function z(t,e){return w(t/e)*e}function D(t,e,l){return _(b(t,e),l)}function E(t){return"function"==typeof t?t:()=>t}const T=t=>t,A=(t,e)=>e,Y=t=>null,P=t=>!0;function W(t,e){return x(t/e)*e}function C(t,e){return g(t/e)*e}function F(t,e){return w(t*(e=10**e))/e}const H=new Map;function R(t){return((""+t).split(".")[1]||"").length}function $(t,e,l,n){let i=[],s=n.map(R);for(let o=e;o<l;o++){let e=m(o),l=F(v(t,o),e);for(let t=0;t<n.length;t++){let r=n[t]*l,u=(r>=0&&o>=0?0:e)+(o>=s[t]?0:s[t]),a=F(r,u);i.push(a),H.set(a,u)}}return i}const O={},j=[null,null],L=Array.isArray;function I(t){return"string"==typeof t}function N(t){let e=!1;if(null!=t){let l=t.constructor;e=null==l||l==Object}return e}function B(t){return null!=t&&"object"==typeof t}function G(t,e){let l;if(e=e||N,L(t))l=t.map((t=>G(t,e)));else if(e(t))for(var n in l={},t)l[n]=G(t[n],e);else l=t;return l}function J(t){let e=arguments;for(let l=1;l<e.length;l++){let n=e[l];for(let e in n)N(t[e])?J(t[e],G(n[e])):t[e]=G(n[e])}return t}function U(t,e,l){for(let n,i=0,s=-1;i<e.length;i++){let o=e[i];if(o>s){for(n=o-1;n>=0&&null==t[n];)t[n--]=null;for(n=o+1;n<l&&null==t[n];)t[s=n++]=null}}}const V="undefined"==typeof queueMicrotask?t=>Promise.resolve().then(t):queueMicrotask,q="u-off",Z=document,K=window,X=devicePixelRatio;function Q(t,e){if(null!=e){let l=t.classList;!l.contains(e)&&l.add(e)}}function tt(t,e){let l=t.classList;l.contains(e)&&l.remove(e)}function et(t,e,l){t.style[e]=l+"px"}function lt(t,e,l,n){let i=Z.createElement(t);return null!=e&&Q(i,e),null!=l&&l.insertBefore(i,n),i}function nt(t,e){return lt("div",t,e)}function it(t,e,l,n,i){t.style.transform="translate("+e+"px,"+l+"px)",e<0||l<0||e>n||l>i?Q(t,q):tt(t,q)}const st={passive:!0},ot=J({capture:!0},st);function rt(t,e,l,n){e.addEventListener(t,l,n?ot:st)}function ut(t,e,l,n){e.removeEventListener(t,l,n?ot:st)}const at=["January","February","March","April","May","June","July","August","September","October","November","December"],ct=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function ft(t){return t.slice(0,3)}const ht=ct.map(ft),dt=at.map(ft),pt={MMMM:at,MMM:dt,WWWW:ct,WWW:ht};function mt(t){return(t<10?"0":"")+t}const gt={YYYY:t=>t.getFullYear(),YY:t=>(t.getFullYear()+"").slice(2),MMMM:(t,e)=>e.MMMM[t.getMonth()],MMM:(t,e)=>e.MMM[t.getMonth()],MM:t=>mt(t.getMonth()+1),M:t=>t.getMonth()+1,DD:t=>mt(t.getDate()),D:t=>t.getDate(),WWWW:(t,e)=>e.WWWW[t.getDay()],WWW:(t,e)=>e.WWW[t.getDay()],HH:t=>mt(t.getHours()),H:t=>t.getHours(),h:t=>{let e=t.getHours();return 0==e?12:e>12?e-12:e},AA:t=>t.getHours()>=12?"PM":"AM",aa:t=>t.getHours()>=12?"pm":"am",a:t=>t.getHours()>=12?"p":"a",mm:t=>mt(t.getMinutes()),m:t=>t.getMinutes(),ss:t=>mt(t.getSeconds()),s:t=>t.getSeconds(),fff:t=>{return((e=t.getMilliseconds())<10?"00":e<100?"0":"")+e;var e}};function wt(t,e){e=e||pt;let l,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;l=i.exec(t);)n.push("{"==l[0][0]?gt[l[1]]:l[0]);return t=>{let l="";for(let i=0;i<n.length;i++)l+="string"==typeof n[i]?n[i]:n[i](t,e);return l}}const xt=(new Intl.DateTimeFormat).resolvedOptions().timeZone;const _t=t=>t%1==0,bt=[1,2,2.5,5],vt=$(10,-16,0,bt),kt=$(10,0,16,bt),yt=kt.filter(_t),Mt=vt.concat(kt),St="{M}/{D}",zt="\n"+St,Dt=zt+"/{YY}",Et="{h}:{mm}{aa}",Tt=null;function At(t){let e=1e3*t,l=60*e,n=60*l,i=24*n,s=30*i,o=365*i;return[(1==t?$(10,0,3,bt).filter(_t):$(10,-3,0,bt)).concat([e,5*e,10*e,15*e,30*e,l,5*l,10*l,15*l,30*l,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,s,2*s,3*s,4*s,6*s,o,2*o,5*o,10*o,25*o,50*o,100*o]),[[o,"{YYYY}",Tt,Tt,Tt,Tt,Tt,Tt,1],[28*i,"{MMM}","\n{YYYY}",Tt,Tt,Tt,Tt,Tt,1],[i,St,"\n{YYYY}",Tt,Tt,Tt,Tt,Tt,1],[n,"{h}{aa}",Dt,Tt,zt,Tt,Tt,Tt,1],[l,Et,Dt,Tt,zt,Tt,Tt,Tt,1],[e,":{ss}",Dt+" "+Et,Tt,zt+" "+Et,Tt,"\n{h}:{mm}{aa}",Tt,1],[t,":{ss}.{fff}",Dt+" "+Et,Tt,zt+" "+Et,Tt,"\n{h}:{mm}{aa}",Tt,1]],function(e){return(r,u,a,c,f,h)=>{let d=[],p=f>=o,m=f>=s&&f<o,x=e(a),_=F(x*t,3),b=Ot(x.getFullYear(),p?0:x.getMonth(),m||p?1:x.getDate()),v=F(b*t,3);if(m||p){let l=m?f/s:0,n=p?f/o:0,i=_==v?_:F(Ot(b.getFullYear()+n,b.getMonth()+l,1)*t,3),r=new Date(w(i/t)),u=r.getFullYear(),a=r.getMonth();for(let s=0;i<=c;s++){let o=Ot(u+n*s,a+l*s,1),r=o-e(F(o*t,3));i=F((+o+r)*t,3),i<=c&&d.push(i)}}else{let s=f>=i?i:f,o=v+(g(a)-g(_))+W(_-v,s);d.push(o);let p=e(o),m=p.getHours()+p.getMinutes()/l+p.getSeconds()/n,w=f/n,x=h/r.axes[u]._space;for(;o=F(o+f,1==t?0:3),!(o>c);)if(w>1){let t=g(F(m+w,6))%24,l=e(o).getHours()-t;l>1&&(l=-1),o-=l*n,m=(m+w)%24,F((o-d[d.length-1])/f,3)*x>=.7&&d.push(o)}else d.push(o)}return d}}]}const[Yt,Pt,Wt]=At(1),[Ct,Ft,Ht]=At(.001);function Rt(t,e){return t.map((t=>t.map(((l,n)=>0==n||8==n||null==l?l:e(1==n||0==t[8]?l:t[1]+l)))))}function $t(t,e){return(l,n,i,s,o)=>{let r,u,a,c,f,h,d=e.find((t=>o>=t[0]))||e[e.length-1];return n.map((e=>{let l=t(e),n=l.getFullYear(),i=l.getMonth(),s=l.getDate(),o=l.getHours(),p=l.getMinutes(),m=l.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||s!=a&&d[4]||o!=c&&d[5]||p!=f&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=s,c=o,f=p,h=m,g(l)}))}}function Ot(t,e,l){return new Date(t,e,l)}function jt(t,e){return e(t)}$(2,-53,53,[1]);function Lt(t,e){return(l,n)=>e(t(n))}const It={show:!0,width:2,stroke:function(t,e){let l=t.series[e];return l.width?l.stroke(t,e):l.points.width?l.points.stroke(t,e):null},fill:function(t,e){return t.series[e].fill(t,e)},dash:"solid",live:!0,isolate:!1,idx:null,values:[]};const Nt=[0,0];function Bt(t,e,l){return t=>{0==t.button&&l(t)}}function Gt(t,e,l){return l}const Jt={show:!0,x:!0,y:!0,lock:!1,move:function(t,e,l){return Nt[0]=e,Nt[1]=l,Nt},points:{show:function(t,e){let l=t.cursor.points,n=nt(),i=l.stroke(t,e),s=l.fill(t,e);n.style.background=s||i;let o=l.size(t,e),r=l.width(t,e,o);r&&(n.style.border=r+"px solid "+i);let u=o/-2;return et(n,"width",o),et(n,"height",o),et(n,"marginLeft",u),et(n,"marginTop",u),n},size:function(t,e){return ce(t.series[e].width,1)},width:0,stroke:function(t,e){return t.series[e].stroke(t,e)},fill:function(t,e){return t.series[e].stroke(t,e)}},bind:{mousedown:Bt,mouseup:Bt,click:Bt,dblclick:Bt,mousemove:Gt,mouseleave:Gt,mouseenter:Gt},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},left:-10,top:-10,idx:null,dataIdx:function(t,e,l){return l}},Ut={show:!0,stroke:"rgba(0,0,0,0.07)",width:2,filter:A},Vt=J({},Ut,{size:10}),qt='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Zt="bold "+qt,Kt={show:!0,scale:"x",stroke:"#000",space:50,gap:5,size:50,labelSize:30,labelFont:Zt,side:2,grid:Ut,ticks:Vt,font:qt,rotate:0},Xt={show:!0,scale:"x",auto:!1,sorted:1,min:S,max:-S,idxs:[]};function Qt(t,e,l,n,i){return e.map((t=>null==t?"":h(t)))}function te(t,e,l,n,i,s,o){let r=[],u=H.get(i)||0;for(let a=l=o?l:F(W(l,i),u);a<=n;a=F(a+i,u))r.push(Object.is(a,-0)?0:a);return r}function ee(t,e,l,n,i,s,o){const r=[],u=t.scales[t.axes[e].scale].log,a=g((10==u?k:y)(l));i=v(u,a),a<0&&(i=F(i,-a));let c=l;do{r.push(c),c=F(c+i,H.get(i)),c>=i*u&&(i=c)}while(c<=n);return r}function le(t,e,l,n,i,s,o){let r=t.scales[t.axes[e].scale].asinh,u=n>r?ee(t,e,b(r,l),n,i):[r],a=n>=0&&l<=0?[0]:[];return(l<-r?ee(t,e,b(r,-n),-l,i):[r]).reverse().map((t=>-t)).concat(a,u)}const ne=/./,ie=/[12357]/,se=/[125]/,oe=/1/;function re(t,e,l,n,i){let s=t.axes[l],o=s.scale,r=t.scales[o];if(3==r.distr&&2==r.log)return e;let u=t.valToPos,a=s._space,c=u(10,o),f=u(9,o)-c>=a?ne:u(7,o)-c>=a?ie:u(5,o)-c>=a?se:oe;return e.map((t=>4==r.distr&&0==t||f.test(t)?t:null))}function ue(t,e){return null==e?"":h(e)}const ae={show:!0,scale:"y",stroke:"#000",space:30,gap:5,size:50,labelSize:30,labelFont:Zt,side:3,grid:Ut,ticks:Vt,font:qt,rotate:0};function ce(t,e){return F((3+2*(t||1))*e,3)}function fe(t,e,l,n){let i=t.scales[t.series[e].scale],s=t.bands&&t.bands.some((t=>t.series[0]==e));return 3==i.distr||s?i.min:0}const he={scale:"y",auto:!0,sorted:0,show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:function(t,e){let l=(0==t.scales[t.series[0].scale].ori?t.bbox.width:t.bbox.height)/(t.series[e].points.space*X),n=t.series[0].idxs;return n[1]-n[0]<=l}},values:null,min:S,max:-S,idxs:[],path:null,clip:null};function de(t,e,l,n,i){return l/10}const pe={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},me=J({},pe,{time:!1,ori:1}),ge={};function we(t,e){let l=ge[t];return l||(l={key:t,plots:[],sub(t){l.plots.push(t)},unsub(t){l.plots=l.plots.filter((e=>e!=t))},pub(t,e,n,i,s,o,r){for(let u=0;u<l.plots.length;u++)l.plots[u]!=e&&l.plots[u].pub(t,e,n,i,s,o,r)}},null!=t&&(ge[t]=l)),l}function xe(t,e,l){const n=t.series[e],i=t.scales,s=t.bbox,o=i[t.series[0].scale];let r=t._data[0],u=t._data[e],a=o,c=i[n.scale],f=s.left,h=s.top,d=s.width,p=s.height,m=t.valToPosH,g=t.valToPosV;return 0==a.ori?l(n,r,u,a,c,m,g,f,h,d,p,ye,Se,De,Te,Ye):l(n,r,u,a,c,g,m,h,f,p,d,Me,ze,Ee,Ae,Pe)}function _e(t,e,l,n,i){return xe(t,e,((t,e,s,o,r,u,a,c,f,h,d)=>{const p=o.dir*(0==o.ori?1:-1),m=0==o.ori?Se:ze;let g,w;1==p?(g=l,w=n):(g=n,w=l);let x=z(u(e[g],o,h,c),.5),_=z(a(s[g],r,d,f),.5),b=z(u(e[w],o,h,c),.5),v=z(a(r.max,r,d,f),.5),k=new Path2D(i);return m(k,b,v),m(k,x,v),m(k,x,_),k}))}function be(t,e,l,n,i,s){let o=null;if(t.length>0){o=new Path2D;const r=0==e?De:Ee;let u=l;for(let e=0;e<t.length;e++){let l=t[e];r(o,u,n,l[0]-u,n+s),u=l[1]}r(o,u,n,l+i-u,n+s)}return o}function ve(t,e,l){if(l>e){let n=t[t.length-1];n&&n[0]==e?n[1]=l:t.push([e,l])}}function ke(t){return 0==t?T:1==t?w:e=>z(e,t)}function ye(t,e,l){t.moveTo(e,l)}function Me(t,e,l){t.moveTo(l,e)}function Se(t,e,l){t.lineTo(e,l)}function ze(t,e,l){t.lineTo(l,e)}function De(t,e,l,n,i){t.rect(e,l,n,i)}function Ee(t,e,l,n,i){t.rect(l,e,i,n)}function Te(t,e,l,n,i,s){t.arc(e,l,n,i,s)}function Ae(t,e,l,n,i,s){t.arc(l,e,n,i,s)}function Ye(t,e,l,n,i,s,o){t.bezierCurveTo(e,l,n,i,s,o)}function Pe(t,e,l,n,i,s,o){t.bezierCurveTo(l,e,i,n,o,s)}function We(t){return(e,l,n,i,s,o)=>{n!=i&&(s!=n&&o!=n&&t(e,l,n),s!=i&&o!=i&&t(e,l,i),t(e,l,o))}}const Ce=We(Se),Fe=We(ze);function He(){return(t,e,n,i)=>xe(t,e,((s,o,r,u,a,c,f,h,d,p,m)=>{let g,w,x=s.pxRound;0==u.ori?(g=Se,w=Ce):(g=ze,w=Fe);const v=u.dir*(0==u.ori?1:-1),k={stroke:new Path2D,fill:null,clip:null,band:null},y=k.stroke;let M,D,E,T,A=S,Y=-S,P=[],W=x(c(o[1==v?n:i],u,p,h)),C=!1,F=l(r,n,i,1*v),H=l(r,n,i,-1*v),R=z(c(o[F],u,p,h),.5),$=z(c(o[H],u,p,h),.5);R>h&&ve(P,h,R);for(let t=1==v?n:i;t>=n&&t<=i;t+=v){let e=x(c(o[t],u,p,h));if(e==W)null!=r[t]?(D=x(f(r[t],a,m,d)),A==S&&(g(y,e,D),M=D),A=_(D,A),Y=b(D,Y)):C||null!==r[t]||(C=!0);else{let l=!1;A!=S?(w(y,W,A,Y,M,D),E=T=W):C&&(l=!0,C=!1),null!=r[t]?(D=x(f(r[t],a,m,d)),g(y,e,D),A=Y=M=D,e-W>1&&null===r[t-v]&&(l=!0)):(A=S,Y=-S,C||null!==r[t]||(C=!0)),l&&ve(P,E,e),W=e}}if(A!=S&&A!=Y&&T!=W&&w(y,W,A,Y,M,D),$<h+p&&ve(P,$,h+p),null!=s.fill){let l=k.fill=new Path2D(y),n=x(f(s.fillTo(t,e,s.min,s.max),a,m,d));g(l,$,n),g(l,R,n)}return s.spanGaps||(k.clip=be(P,u.ori,h,d,p,m)),t.bands.length>0&&(k.band=_e(t,e,n,i,y)),k}))}function Re(t,e,l,n,i,s){const o=t.length;if(o<2)return null;const r=new Path2D;if(l(r,t[0],e[0]),2==o)n(r,t[1],e[1]);else{let l=Array(o),n=Array(o-1),s=Array(o-1),u=Array(o-1);for(let i=0;i<o-1;i++)s[i]=e[i+1]-e[i],u[i]=t[i+1]-t[i],n[i]=s[i]/u[i];l[0]=n[0];for(let t=1;t<o-1;t++)0===n[t]||0===n[t-1]||n[t-1]>0!=n[t]>0?l[t]=0:(l[t]=3*(u[t-1]+u[t])/((2*u[t]+u[t-1])/n[t-1]+(u[t]+2*u[t-1])/n[t]),isFinite(l[t])||(l[t]=0));l[o-1]=n[o-2];for(let a=0;a<o-1;a++)i(r,t[a]+u[a]/3,e[a]+l[a]*u[a]/3,t[a+1]-u[a]/3,e[a+1]-l[a+1]*u[a]/3,t[a+1],e[a+1])}return r}const $e=new Set;function Oe(){$e.forEach((t=>{t.syncRect(!0)}))}rt("resize",K,Oe),rt("scroll",K,Oe,!0);const je=He();function Le(t,e,l,n){return(n?[t[0],t[1]].concat(t.slice(2)):[t[0]].concat(t.slice(1))).map(((t,n)=>Ie(t,n,e,l)))}function Ie(t,e,l,n){return J({},0==e?l:n,t)}function Ne(t,e,l){return null==e?j:[e,l]}const Be=Ne;function Ge(t,e,l){return null==e?j:a(e,l,.1,!0)}function Je(t,e,l,n){return null==e?j:s(e,l,t.scales[n].log,!1)}const Ue=Je;function Ve(t,e,l,n){return null==e?j:o(e,l,t.scales[n].log,!1)}const qe=Ve;function Ze(t){let e;return[t=t.replace(/(\d+)px/,((t,l)=>(e=w(l*X))+"px")),e]}function Ke(t,l,n){const i={};function r(t,e){return((3==e.distr?k(t>0?t:e.clamp(i,t,e.min,e.max,e.key)):4==e.distr?M(t,e.asinh):t)-e._min)/(e._max-e._min)}function u(t,e,l,n){let i=r(t,e);return n+l*(-1==e.dir?1-i:i)}function f(t,e,l,n){let i=r(t,e);return n+l*(-1==e.dir?i:1-i)}function h(t,e,l,n){return 0==e.ori?u(t,e,l,n):f(t,e,l,n)}i.valToPosH=u,i.valToPosV=f;let y=!1;i.status=0;const T=i.root=nt("uplot");if(null!=t.id&&(T.id=t.id),Q(T,t.class),t.title){nt("u-title",T).textContent=t.title}const C=lt("canvas"),R=i.ctx=C.getContext("2d"),$=nt("u-wrap",T),U=nt("u-under",$);$.appendChild(C);const K=nt("u-over",$),st=+c((t=G(t)).pxAlign,1),ot=ke(st);(t.plugins||[]).forEach((e=>{e.opts&&(t=e.opts(i,t)||t)}));const at=t.ms||.001,ct=i.series=Le(t.series||[],Xt,he,!1),ft=i.axes=Le(t.axes||[],Kt,ae,!0),ht=i.scales={},dt=i.bands=t.bands||[];dt.forEach((t=>{t.fill=E(t.fill||null)}));const pt=ct[0].scale,mt={axes:function(){ft.forEach(((t,e)=>{if(!t.show||!t._show)return;let l,n,s=ht[t.scale],o=t.side,r=o%2,u=0==r?Ce:Fe,a=0==r?Pe:We,c=w(t.gap*X),[f,d]=t._found,m=t.stroke(i,e);if(t.label){R.save();let e=w(t._lpos*X);1==r?(l=n=0,R.translate(e,w(We+Fe/2)),R.rotate((3==o?-p:p)/2)):(l=w(Pe+Ce/2),n=e),R.font=t.labelFont[0],R.fillStyle=m,R.textAlign="center",R.textBaseline=2==o?"top":"bottom",R.fillText(t.label,l,n),R.restore()}if(0==d)return;let g=t._splits,x=2==s.distr?g.map((t=>pl[t])):g,_=2==s.distr?pl[g[1]]-pl[g[0]]:f,b=t.ticks,v=b.show?w(b.size*X):0,k=t._rotate*-p/180,y=ot(t._pos*X),M=y+(v+c)*(0==r&&0==o||1==r&&3==o?-1:1);n=0==r?M:0,l=1==r?M:0,R.font=t.font[0],R.fillStyle=m,R.textAlign=1==t.align?"left":2==t.align?"right":k>0?"left":k<0?"right":0==r?"center":3==o?"right":"left",R.textBaseline=k||1==r?"middle":2==o?"top":"bottom";let S=1.5*t.font[1],z=g.map((t=>ot(h(t,s,u,a))));t._values.forEach(((t,e)=>{null!=t&&(0==r?l=z[e]:n=z[e],(""+t).split(/\n/gm).forEach(((t,e)=>{k?(R.save(),R.translate(l,n+e*S),R.rotate(k),R.fillText(t,0,0),R.restore()):R.fillText(t,l,n+e*S)})))})),b.show&&kl(z,b.filter(i,x,e,d,_),r,o,y,v,F(b.width*X,3),b.stroke(i,e),b.dash,b.cap);let D=t.grid;D.show&&kl(z,D.filter(i,x,e,d,_),r,0==r?2:1,0==r?We:Pe,0==r?Fe:Ce,F(D.width*X,3),D.stroke(i,e),D.dash,D.cap)})),vn("drawAxes")},series:function(){cl>0&&(ct.forEach(((t,e)=>{if(e>0&&t.show&&null==t._paths){let n=function(t){let e=D(fl-1,0,cl-1),l=D(hl+1,0,cl-1);for(;null==t[e]&&e>0;)e--;for(;null==t[l]&&l<cl-1;)l++;return[e,l]}(l[e]);t._paths=t.paths(i,e,n[0],n[1])}})),ct.forEach(((t,e)=>{e>0&&t.show&&(t._paths&&function(t){const e=ct[t],{stroke:l,fill:n,clip:s}=e._paths,o=F(e.width*X,3),r=o%2/2,u=e._stroke=e.stroke(i,t),a=e._fill=e.fill(i,t);R.globalAlpha=e.alpha;const c=1==e.pxAlign;c&&R.translate(r,r),R.save();let f=Pe,h=We,d=Ce,p=Fe,m=o*X/2;0==e.min&&(p+=m);0==e.max&&(h-=m,p+=m);R.beginPath(),R.rect(f,h,d,p),R.clip(),s&&R.clip(s),function(t,e,l,n,s,o,r,u){let a=!1;dt.forEach(((c,f)=>{if(c.series[0]==t){let t=ct[c.series[1]],h=(t._paths||O).band;R.save();let d=null;t.show&&h&&(d=c.fill(i,f)||o,R.clip(h)),bl(e,l,n,s,d,r,u),R.restore(),a=!0}})),a||bl(e,l,n,s,o,r,u)}(t,u,o,e.dash,e.cap,a,l,n),R.restore(),c&&R.translate(-r,-r),R.globalAlpha=1}(e),t.points.show(i,e,fl,hl)&&function(t){let e=ct[t],n=e.points,s=e.pxRound;const o=F(n.width*X,3),r=o%2/2,u=n.width>0;let a=(n.size-n.width)/2*X,c=F(2*a,3);const f=1==e.pxAlign;f&&R.translate(r,r),R.save(),R.beginPath(),R.rect(Pe-c,We-c,Ce+2*c,Fe+2*c),R.clip(),R.globalAlpha=e.alpha;const h=new Path2D,d=ht[e.scale];let m,g,w,x;0==_t.ori?(m=Ce,g=Pe,w=Fe,x=We):(m=Fe,g=We,w=Ce,x=Pe);for(let i=fl;i<=hl;i++)if(null!=l[t][i]){let e=s(vt(l[0][i],_t,m,g)),n=s(kt(l[t][i],d,w,x));St(h,e+a,n),zt(h,e,n,a,0,2*p)}const _=n._stroke=n.stroke(i,t),b=n._fill=n.fill(i,t);xl(_,o,n.dash,n.cap,b||(u?"#fff":e._stroke)),R.fill(h),u&&R.stroke(h),R.globalAlpha=1,R.restore(),f&&R.translate(-r,-r)}(e),vn("drawSeries",e))})))}},gt=(t.drawOrder||["axes","series"]).map((t=>mt[t]));function xt(e){let l=ht[e];if(null==l){let n=(t.scales||O)[e]||O;if(null!=n.from)xt(n.from),ht[e]=J({},ht[n.from],n);else{l=ht[e]=J({},e==pt?pe:me,n),l.key=e;let t=l.time,i=l.range,s=L(i);if(e!=pt&&!s&&N(i)){let t=i;i=(e,l,n)=>null==l?j:a(l,n,t)}l.range=E(i||(t?Be:e==pt?3==l.distr?Ue:4==l.distr?qe:Ne:3==l.distr?Je:4==l.distr?Ve:Ge)),l.auto=E(!s&&l.auto),l.clamp=E(l.clamp||de),l._min=l._max=null}}}xt("x"),xt("y"),ct.forEach((t=>{xt(t.scale)})),ft.forEach((t=>{xt(t.scale)}));for(let e in t.scales)xt(e);const _t=ht[pt],bt=_t.distr;let vt,kt,St,zt;0==_t.ori?(Q(T,"u-hz"),vt=u,kt=f,St=ye,zt=Te):(Q(T,"u-vt"),vt=f,kt=u,St=Me,zt=Ae);const Dt={};for(let e in ht){let t=ht[e];null==t.min&&null==t.max||(Dt[e]={min:t.min,max:t.max},t.min=t.max=null)}const Et=t.tzDate||(t=>new Date(w(t/at))),Tt=t.fmtDate||wt,At=1==at?Wt(Et):Ht(Et),Ot=$t(Et,Rt(1==at?Pt:Ft,Tt)),Nt=Lt(Et,jt("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",Tt)),Bt=i.legend=J({},It,t.legend),Gt=Bt.show;let Ut;Bt.width=E(Bt.width),Bt.dash=E(Bt.dash),Bt.stroke=E(Bt.stroke),Bt.fill=E(Bt.fill);let Vt,qt=[],Zt=[],ne=!1,ie={};if(Bt.live){const t=ct[1]?ct[1].values:null;ne=null!=t,Vt=ne?t(i,1,0):{_:0};for(let e in Vt)ie[e]="--"}if(Gt)if(Ut=lt("table","u-legend",T),ne){let t=lt("tr","u-thead",Ut);for(var se in lt("th",null,t),Vt)lt("th","u-label",t).textContent=se}else Q(Ut,"u-inline"),Bt.live&&Q(Ut,"u-live");const oe={show:!0},ge={show:!1};const xe=new Map;function _e(t,e,l){const n=xe.get(e)||{},s=el.bind[t](i,e,l);s&&(rt(t,e,n[t]=s),xe.set(e,n))}function be(t,e,l){const n=xe.get(e)||{};for(let i in n)null!=t&&i!=t||(ut(i,e,n[i]),delete n[i]);null==t&&xe.delete(e)}let ve=0,Se=0,ze=0,De=0,Ee=0,Ye=0,Pe=0,We=0,Ce=0,Fe=0;i.bbox={};let He=!1,Re=!1,Oe=!1,Ke=!1,Xe=!1;function Qe(t,e){t==i.width&&e==i.height||tl(t,e),Sl(!1),Oe=!0,Re=!0,Ke=el.left>=0,Xe=!0,Ol()}function tl(t,e){i.width=ve=ze=t,i.height=Se=De=e,Ee=Ye=0,function(){let t=!1,e=!1,l=!1,n=!1;ft.forEach(((i,s)=>{if(i.show&&i._show){let{side:s,_size:o}=i,r=s%2,u=o+(i.labelSize=null!=i.label?i.labelSize||30:0);u>0&&(r?(ze-=u,3==s?(Ee+=u,n=!0):l=!0):(De-=u,0==s?(Ye+=u,t=!0):e=!0))}})),ol[0]=t,ol[1]=l,ol[2]=e,ol[3]=n,ze-=al[1]+al[3],Ee+=al[3],De-=al[2]+al[0],Ye+=al[0]}(),function(){let t=Ee+ze,e=Ye+De,l=Ee,n=Ye;function i(i,s){switch(i){case 1:return t+=s,t-s;case 2:return e+=s,e-s;case 3:return l-=s,l+s;case 0:return n-=s,n+s}}ft.forEach(((t,e)=>{if(t.show&&t._show){let e=t.side;t._pos=i(e,t._size),null!=t.label&&(t._lpos=i(e,t.labelSize))}}))}();let l=i.bbox;Pe=l.left=z(Ee*X,.5),We=l.top=z(Ye*X,.5),Ce=l.width=z(ze*X,.5),Fe=l.height=z(De*X,.5)}i.setSize=function({width:t,height:e}){Qe(t,e)};const el=i.cursor=J({},Jt,t.cursor);{el._lock=!1;let t=el.points;t.show=E(t.show),t.size=E(t.size),t.stroke=E(t.stroke),t.width=E(t.width),t.fill=E(t.fill)}const ll=i.focus=J({},t.focus||{alpha:.3},el.focus),nl=ll.prox>=0;let il=[null];function sl(t,e){let l=ht[t.scale].time,n=t.value;if(t.value=l?I(n)?Lt(Et,jt(n,Tt)):n||Nt:n||ue,t.label=t.label||(l?"Time":"Value"),e>0){t.width=null==t.width?1:t.width,t.paths=t.paths||je||Y,t.fillTo=E(t.fillTo||fe),t.pxAlign=+c(t.pxAlign,st),t.pxRound=ke(t.pxAlign),t.stroke=E(t.stroke||null),t.fill=E(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let e=ce(t.width,1),l=t.points=J({},{size:e,width:b(1,.2*e),stroke:t.stroke,space:2*e,_stroke:null,_fill:null},t.points);l.show=E(l.show),l.fill=E(l.fill),l.stroke=E(l.stroke)}if(Gt){let l=function(t,e){if(0==e&&(ne||!Bt.live))return j;let l=[],n=lt("tr","u-series",Ut,Ut.childNodes[e]);Q(n,t.class),t.show||Q(n,q);let s=lt("th",null,n),o=nt("u-marker",s);if(e>0){let t=Bt.width(i,e);t&&(o.style.border=t+"px "+Bt.dash(i,e)+" "+Bt.stroke(i,e)),o.style.background=Bt.fill(i,e)}let r=nt("u-label",s);for(var u in r.textContent=t.label,e>0&&(_e("click",s,(e=>{if(el._lock)return;let l=ct.indexOf(t);if(e.ctrlKey!=Bt.isolate){let t=ct.some(((t,e)=>e>0&&e!=l&&t.show));ct.forEach(((e,n)=>{n>0&&Zl(n,t?n==l?oe:ge:oe,kn.setSeries)}))}else Zl(l,{show:!t.show},kn.setSeries)})),nl&&_e("mouseenter",s,(e=>{el._lock||Zl(ct.indexOf(t),tn,kn.setSeries)}))),Vt){let t=lt("td","u-value",n);t.textContent="--",l.push(t)}return[n,l]}(t,e);qt.splice(e,0,l[0]),Zt.splice(e,0,l[1]),Bt.values.push(null)}if(el.show){let l=function(t,e){if(e>0){let l=el.points.show(i,e);if(l)return Q(l,"u-cursor-pt"),Q(l,t.class),it(l,-10,-10,ze,De),K.insertBefore(l,il[e]),l}}(t,e);l&&il.splice(e,0,l)}}i.addSeries=function(t,e){t=Ie(t,e=null==e?ct.length:e,Xt,he),ct.splice(e,0,t),sl(ct[e],e)},i.delSeries=function(t){if(ct.splice(t,1),Gt){Bt.values.splice(t,1),Zt.splice(t,1);let e=qt.splice(t,1)[0];be(null,e.firstChild),e.remove()}il.length>1&&il.splice(t,1)[0].remove()};const ol=[!1,!1,!1,!1];function rl(t,e,l,n){let[i,s,o,r]=l,u=e%2,a=0;return 0==u&&(r||s)&&(a=0==e&&!i||2==e&&!o?w(Kt.size/3):0),1==u&&(i||o)&&(a=1==e&&!s||3==e&&!r?w(ae.size/2):0),a}const ul=i.padding=(t.padding||[rl,rl,rl,rl]).map((t=>E(c(t,rl)))),al=i._padding=ul.map(((t,e)=>t(i,e,ol,0)));let cl,fl=null,hl=null;const dl=ct[0].idxs;let pl=null,ml=!1;function gl(t,e){if((l=(t||[]).slice())[0]=l[0]||[],i.data=l.slice(),pl=l[0],cl=pl.length,2==bt&&(l[0]=pl.map(((t,e)=>e))),i._data=l,Sl(!0),vn("setData"),!1!==e){let t=_t;t.auto(i,ml)?wl():ql(pt,t.min,t.max),Ke=el.left>=0,Xe=!0,Ol()}}function wl(){let t,e;ml=!0,cl>0?(fl=dl[0]=0,hl=dl[1]=cl-1,t=l[0][fl],e=l[0][hl],2==bt?(t=fl,e=hl):1==cl&&(3==bt?[t,e]=s(t,t,_t.log,!1):4==bt?[t,e]=o(t,t,_t.log,!1):_t.time?e=t+w(86400/at):[t,e]=a(t,e,.1,!0))):(fl=dl[0]=t=null,hl=dl[1]=e=null),ql(pt,t,e)}function xl(t,e,l,n,i){R.strokeStyle=t||"#0000",R.lineWidth=e,R.lineJoin="round",R.lineCap=n||"butt",R.setLineDash(l||[]),R.fillStyle=i||"#0000"}function _l(){let t=G(ht,B);for(let e in t){let l=t[e],n=Dt[e];if(null!=n&&null!=n.min)J(l,n),e==pt&&Sl(!0);else if(e!=pt)if(0==cl&&null==l.from){let t=l.range(i,null,null,e);l.min=t[0],l.max=t[1]}else l.min=S,l.max=-S}if(cl>0){ct.forEach(((n,s)=>{let o=n.scale,r=t[o],u=Dt[o];if(0==s){let t=r.range(i,r.min,r.max,o);r.min=t[0],r.max=t[1],fl=e(r.min,l[0]),hl=e(r.max,l[0]),l[0][fl]<r.min&&fl++,l[0][hl]>r.max&&hl--,n.min=pl[fl],n.max=pl[hl]}else if(n.show&&n.auto&&r.auto(i,ml)&&(null==u||null==u.min)){let t=null==n.min?3==r.distr?function(t,e,l){let n=S,i=-S;for(let s=e;s<=l;s++)t[s]>0&&(n=_(n,t[s]),i=b(i,t[s]));return[n==S?1:n,i==-S?10:i]}(l[s],fl,hl):function(t,e,l,n){let i=S,s=-S;if(1==n)i=t[e],s=t[l];else if(-1==n)i=t[l],s=t[e];else for(let o=e;o<=l;o++)null!=t[o]&&(i=_(i,t[o]),s=b(s,t[o]));return[i,s]}(l[s],fl,hl,n.sorted):[n.min,n.max];r.min=_(r.min,n.min=t[0]),r.max=b(r.max,n.max=t[1])}n.idxs[0]=fl,n.idxs[1]=hl}));for(let e in t){let l=t[e],n=Dt[e];if(null==l.from&&(null==n||null==n.min)){let t=l.range(i,l.min==S?null:l.min,l.max==-S?null:l.max,e);l.min=t[0],l.max=t[1]}}}for(let e in t){let l=t[e];if(null!=l.from){let n=t[l.from],s=l.range(i,n.min,n.max,e);l.min=s[0],l.max=s[1]}}let n={},s=!1;for(let e in t){let l=t[e],i=ht[e];if(i.min!=l.min||i.max!=l.max){i.min=l.min,i.max=l.max;let t=i.distr;i._min=3==t?k(i.min):4==t?M(i.min,i.asinh):i.min,i._max=3==t?k(i.max):4==t?M(i.max,i.asinh):i.max,n[e]=s=!0}}if(s){ct.forEach((t=>{n[t.scale]&&(t._paths=null)}));for(let t in n)Oe=!0,vn("setScale",t);el.show&&(Ke=el.left>=0)}for(let e in Dt)Dt[e]=null}function bl(t,e,l,n,i,s,o){xl(t,e,l,n,i),i&&o&&R.fill(o),t&&s&&e&&R.stroke(s)}function vl(t,e,l,n){let s,o=ft[t];if(n<=0)s=[0,0];else{let r=o._space=o.space(i,t,e,l,n),u=o._incrs=o.incrs(i,t,e,l,n,r);s=o._found=function(t,e,l,n,i){let s=n/(e-t),o=(""+g(t)).length;for(var r=0;r<l.length;r++){let t=l[r]*s,e=l[r]<10?H.get(l[r]):0;if(t>=i&&o+e<17)return[l[r],t]}return[0,0]}(e,l,u,n,r)}return s}function kl(t,e,l,n,i,s,o,r,u,a){let c=o%2/2;1==st&&R.translate(c,c),xl(r,o,u,a),R.beginPath();let f,h,d,p,m=i+(0==n||3==n?-s:s);0==l?(h=i,p=m):(f=i,d=m),t.forEach(((t,n)=>{null!=e[n]&&(0==l?f=d=t:h=p=t,R.moveTo(f,h),R.lineTo(d,p))})),R.stroke(),1==st&&R.translate(-c,-c)}function yl(t){let e=!0;return ft.forEach(((l,n)=>{if(!l.show)return;let s=ht[l.scale];if(null==s.min)return void(l._show&&(e=!1,l._show=!1,Sl(!1)));l._show||(e=!1,l._show=!0,Sl(!1));let o=l.side,r=o%2,{min:u,max:a}=s,[c,f]=vl(n,u,a,0==r?ze:De);if(0==f)return;let h=2==s.distr,d=l._splits=l.splits(i,n,u,a,c,f,h),p=2==s.distr?d.map((t=>pl[t])):d,m=2==s.distr?pl[d[1]]-pl[d[0]]:c,g=l._values=l.values(i,l.filter(i,p,n,f,m),n,f,m);l._rotate=2==o?l.rotate(i,g,n,f):0;let w=l._size;l._size=x(l.size(i,g,n,t)),null!=w&&l._size!=w&&(e=!1)})),e}function Ml(t){let e=!0;return ul.forEach(((l,n)=>{let s=l(i,n,ol,t);s!=al[n]&&(e=!1),al[n]=s})),e}function Sl(t){ct.forEach(((e,l)=>{l>0&&(e._paths=null,t&&(e.min=null,e.max=null))}))}i.setData=gl;let zl,Dl,El,Tl,Al,Yl,Pl,Wl,Cl,Fl,Hl,Rl,$l=!1;function Ol(){$l||(V(jl),$l=!0)}function jl(){He&&(_l(),He=!1),Oe&&(!function(){let t=!1,e=0;for(;!t;){e++;let l=yl(e),n=Ml(e);t=l&&n,t||(tl(i.width,i.height),Re=!0)}}(),Oe=!1),Re&&(et(U,"left",Ee),et(U,"top",Ye),et(U,"width",ze),et(U,"height",De),et(K,"left",Ee),et(K,"top",Ye),et(K,"width",ze),et(K,"height",De),et($,"width",ve),et($,"height",Se),C.width=w(ve*X),C.height=w(Se*X),hn(!1),vn("setSize"),Re=!1),ve>0&&Se>0&&(R.clearRect(0,0,C.width,C.height),vn("drawClear"),gt.forEach((t=>t())),vn("draw")),el.show&&Ke&&(cn(),Ke=!1),y||(y=!0,i.status=1,vn("ready")),ml=!1,$l=!1}function Ll(t,n){let s=ht[t];if(null==s.from){if(0==cl){let e=s.range(i,n.min,n.max,t);n.min=e[0],n.max=e[1]}if(n.min>n.max){let t=n.min;n.min=n.max,n.max=t}if(cl>1&&null!=n.min&&null!=n.max&&n.max-n.min<1e-16)return;t==pt&&2==s.distr&&cl>0&&(n.min=e(n.min,l[0]),n.max=e(n.max,l[0])),Dt[t]=n,He=!0,Ol()}}i.redraw=(t,e)=>{Oe=e||!1,!1!==t?ql(pt,_t.min,_t.max):Ol()},i.setScale=Ll;let Il=!1;const Nl=el.drag;let Bl=Nl.x,Gl=Nl.y;el.show&&(el.x&&(zl=nt("u-cursor-x",K)),el.y&&(Dl=nt("u-cursor-y",K)),0==_t.ori?(El=zl,Tl=Dl):(El=Dl,Tl=zl),Hl=el.left,Rl=el.top);const Jl=i.select=J({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),Ul=Jl.show?nt("u-select",Jl.over?K:U):null;function Vl(t,e){if(Jl.show){for(let e in t)et(Ul,e,Jl[e]=t[e]);!1!==e&&vn("setSelect")}}function ql(t,e,l){Ll(t,{min:e,max:l})}function Zl(t,e,l){let n=ct[t];null!=e.focus&&function(t){if(t!=Ql){let e=null==t,l=1!=ll.alpha;ct.forEach(((n,i)=>{let s=e||0==i||i==t;n._focus=e?null:s,l&&function(t,e){ct[t].alpha=e,el.show&&il[t]&&(il[t].style.opacity=e);Gt&&qt[t]&&(qt[t].style.opacity=e)}(i,s?1:ll.alpha)})),Ql=t,l&&Ol()}}(t),null!=e.show&&(n.show=e.show,function(t,e){let l=ct[t],n=Gt?qt[t]:null;l.show?n&&tt(n,q):(n&&Q(n,q),il.length>1&&it(il[t],-10,-10,ze,De))}(t,e.show),ql(n.scale,null,null),Ol()),vn("setSeries",t,e),l&&Sn("setSeries",i,t,e)}let Kl,Xl,Ql;i.setSelect=Vl,i.setSeries=Zl;const tn={focus:!0},en={focus:!1};function ln(t,e){let l=ht[e],n=ze;1==l.ori&&(n=De,t=n-t),-1==l.dir&&(t=n-t);let i=l._min,s=i+(l._max-i)*(t/n),o=l.distr;return 3==o?v(10,s):4==o?((t,e=1)=>d.sinh(t/e))(s,l.asinh):s}function nn(t,e){et(Ul,"left",Jl.left=t),et(Ul,"width",Jl.width=e)}function sn(t,e){et(Ul,"top",Jl.top=t),et(Ul,"height",Jl.height=e)}Gt&&nl&&rt("mouseleave",Ut,(t=>{el._lock||(Zl(null,en,kn.setSeries),cn())})),i.valToIdx=t=>e(t,l[0]),i.posToIdx=function(t){return e(ln(t,pt),l[0],fl,hl)},i.posToVal=ln,i.valToPos=(t,e,l)=>0==ht[e].ori?u(t,ht[e],l?Ce:ze,l?Pe:0):f(t,ht[e],l?Fe:De,l?We:0),i.batch=function(t){t(i),Ol()},i.setCursor=(t,e)=>{Hl=t.left,Rl=t.top,cn(null,null,e)};let on=0==_t.ori?nn:sn,rn=1==_t.ori?nn:sn;function un(t,e){if(null!=t){let e=t.idx;Bt.idx=e,ct.forEach(((t,l)=>{(l>0||!ne)&&an(l,e)}))}Gt&&Bt.live&&function(){if(Gt&&Bt.live)for(let t=0;t<ct.length;t++){if(0==t&&ne)continue;let e=Bt.values[t],l=0;for(let n in e)Zt[t][l++].firstChild.nodeValue=e[n]}}(),Xe=!1,!1!==e&&vn("setLegend")}function an(t,e){let n;if(null==e)n=ie;else{let s=ct[t],o=0==t&&2==bt?pl:l[t];n=ne?s.values(i,t,e):{_:s.value(i,o[e],t,e)}}Bt.values[t]=n}function cn(t,n,s){let o;Cl=Hl,Fl=Rl,[Hl,Rl]=el.move(i,Hl,Rl),el.show&&(El&&it(El,w(Hl),0,ze,De),Tl&&it(Tl,0,w(Rl),ze,De));let r=!1,u=fl>hl;Kl=S;let a=0==_t.ori?ze:De,c=1==_t.ori?ze:De;if(Hl<0||0==cl||u){o=null;for(let t=0;t<ct.length;t++)t>0&&il.length>1&&it(il[t],-10,-10,ze,De);if(nl&&Zl(null,tn,kn.setSeries),Bt.live){r=!0;for(let t=0;t<ct.length;t++)Bt.values[t]=ie}}else{let t=ln(0==_t.ori?Hl:Rl,pt);o=e(t,l[0],fl,hl);let n=W(vt(l[0][o],_t,a,0),.5);for(let e=0;e<ct.length;e++){let s=ct[e],u=el.dataIdx(i,e,o,t),f=u==o?n:W(vt(l[0][u],_t,a,0),.5);if(e>0&&s.show){let t,n,i=l[e][u],o=null==i?-10:W(kt(i,ht[s.scale],c,0),.5);if(o>0){let t=m(o-Rl);t<=Kl&&(Kl=t,Xl=e)}0==_t.ori?(t=f,n=o):(t=o,n=f),il.length>1&&it(il[e],t,n,ze,De)}if(Bt.live){if(u==el.idx&&!Xe||0==e&&ne)continue;r=!0,an(e,u)}}}if(r&&(Bt.idx=o,un()),Jl.show&&Il)if(null!=n){let[t,e]=kn.scales,l=n.cursor.drag;Bl=l._x,Gl=l._y;let i,s,o,r,u,{left:f,top:h,width:d,height:p}=n.select,g=n.scales[t].ori,w=n.posToVal;t&&(0==g?(i=f,s=d):(i=h,s=p),o=ht[t],r=vt(w(i,t),o,a,0),u=vt(w(i+s,t),o,a,0),on(_(r,u),m(u-r)),e||rn(0,c)),e&&(1==g?(i=f,s=d):(i=h,s=p),o=ht[e],r=kt(w(i,e),o,c,0),u=kt(w(i+s,e),o,c,0),rn(_(r,u),m(u-r)),t||on(0,a))}else{let t=m(Cl-Al),e=m(Fl-Yl);if(1==_t.ori){let l=t;t=e,e=l}Bl=Nl.x&&t>=Nl.dist,Gl=Nl.y&&e>=Nl.dist;let l,n,i=Nl.uni;null!=i?Bl&&Gl&&(Bl=t>=i,Gl=e>=i,Bl||Gl||(e>t?Gl=!0:Bl=!0)):Nl.x&&Nl.y&&(Bl||Gl)&&(Bl=Gl=!0),Bl&&(0==_t.ori?(l=Pl,n=Hl):(l=Wl,n=Rl),on(_(l,n),m(n-l)),Gl||rn(0,c)),Gl&&(1==_t.ori?(l=Pl,n=Hl):(l=Wl,n=Rl),rn(_(l,n),m(n-l)),Bl||on(0,a)),Bl||Gl||(on(0,0),rn(0,0))}if(el.idx=o,el.left=Hl,el.top=Rl,Nl._x=Bl,Nl._y=Gl,null!=t){if(null!=yn){let[t,e]=kn.scales;kn.values[0]=null!=t?ln(0==_t.ori?Hl:Rl,t):null,kn.values[1]=null!=e?ln(1==_t.ori?Hl:Rl,e):null}if(Sn("mousemove",i,Hl,Rl,ze,De,o),nl){let t=kn.setSeries,e=ll.prox;null==Ql?Kl<=e&&Zl(Xl,tn,t):Kl>e?Zl(null,tn,t):Xl!=Ql&&Zl(Xl,tn,t)}}y&&!1!==s&&vn("setCursor")}i.setLegend=un;let fn=null;function hn(t){fn=t?null:K.getBoundingClientRect()}function dn(t,e,l,n,i,s,o){el._lock||(pn(t,e,l,n,i,s,o,!1,null!=t),null!=t?cn(1):cn(null,e))}function pn(t,e,l,n,s,o,r,u,a){if(null==fn&&hn(!1),null!=t)l=t.clientX-fn.left,n=t.clientY-fn.top;else{if(l<0||n<0)return Hl=-10,void(Rl=-10);let[t,i]=kn.scales,r=e.cursor.sync,[u,a]=r.values,[c,f]=r.scales,[d,p]=kn.match,m=1==e.scales[c].ori,g=0==_t.ori?ze:De,w=1==_t.ori?ze:De,x=m?o:s,_=m?s:o,b=m?n:l,v=m?l:n;if(l=null!=c?d(t,c)?h(u,ht[t],g,0):-10:g*(b/x),n=null!=f?p(i,f)?h(a,ht[i],w,0):-10:w*(v/_),1==_t.ori){let t=l;l=n,n=t}}a&&((l<=1||l>=ze-1)&&(l=z(l,ze)),(n<=1||n>=De-1)&&(n=z(n,De))),u?(Al=l,Yl=n,[Pl,Wl]=el.move(i,l,n)):(Hl=l,Rl=n)}function mn(){Vl({width:0,height:0},!1)}function gn(t,e,l,n,s,o,r){Il=!0,Bl=Gl=Nl._x=Nl._y=!1,pn(t,e,l,n,s,o,0,!0,!1),null!=t&&(_e("mouseup",Z,wn),Sn("mousedown",i,Pl,Wl,ze,De,null))}function wn(t,e,l,n,s,o,r){Il=Nl._x=Nl._y=!1,pn(t,e,l,n,s,o,0,!1,!0);let{left:u,top:a,width:c,height:f}=Jl,h=c>0||f>0;if(h&&Vl(Jl),Nl.setScale&&h){let t=u,e=c,l=a,n=f;if(1==_t.ori&&(t=a,e=f,l=u,n=c),Bl&&ql(pt,ln(t,pt),ln(t+e,pt)),Gl)for(let i in ht){let t=ht[i];i!=pt&&null==t.from&&t.min!=S&&ql(i,ln(l+n,i),ln(l,i))}mn()}else el.lock&&(el._lock=!el._lock,el._lock||cn());null!=t&&(be("mouseup",Z),Sn("mouseup",i,Hl,Rl,ze,De,null))}function xn(t,e,l,n,s,o,r){wl(),mn(),null!=t&&Sn("dblclick",i,Hl,Rl,ze,De,null)}const _n={};_n.mousedown=gn,_n.mousemove=dn,_n.mouseup=wn,_n.dblclick=xn,_n.setSeries=(t,e,l,n)=>{Zl(l,n)},el.show&&(_e("mousedown",K,gn),_e("mousemove",K,dn),_e("mouseenter",K,hn),_e("mouseleave",K,(function(t,e,l,n,i,s,o){if(!el._lock){let t=Il;if(Il){let t,e,l=!0,n=!0,i=10;0==_t.ori?(t=Bl,e=Gl):(t=Gl,e=Bl),t&&e&&(l=Hl<=i||Hl>=ze-i,n=Rl<=i||Rl>=De-i),t&&l&&(Hl=Hl<Pl?0:ze),e&&n&&(Rl=Rl<Wl?0:De),cn(1),Il=!1}Hl=-10,Rl=-10,cn(1),t&&(Il=t)}})),_e("dblclick",K,xn),$e.add(i),i.syncRect=hn);const bn=i.hooks=t.hooks||{};function vn(t,e,l){t in bn&&bn[t].forEach((t=>{t.call(null,i,e,l)}))}(t.plugins||[]).forEach((t=>{for(let e in t.hooks)bn[e]=(bn[e]||[]).concat(t.hooks[e])}));const kn=J({key:null,setSeries:!1,filters:{pub:P,sub:P},scales:[pt,ct[1].scale],match:[P,P],values:[null,null]},el.sync);el.sync=kn;const yn=kn.key,Mn=we(yn);function Sn(t,e,l,n,i,s,o){kn.filters.pub(t,e,l,n,i,s,o)&&Mn.pub(t,e,l,n,i,s,o)}function zn(){vn("init",t,l),gl(l||t.data,!1),Dt[pt]?Ll(pt,Dt[pt]):wl(),Qe(t.width,t.height),cn(),Vl(Jl,!1)}return Mn.sub(i),i.pub=function(t,e,l,n,i,s,o){kn.filters.sub(t,e,l,n,i,s,o)&&_n[t](null,e,l,n,i,s,o)},i.destroy=function(){Mn.unsub(i),$e.delete(i),xe.clear(),T.remove(),vn("destroy")},ct.forEach(sl),ft.forEach((function(t,e){if(t._show=t.show,t.show){let l=t.side%2,n=ht[t.scale];null==n&&(t.scale=l?ct[1].scale:pt,n=ht[t.scale]);let s=n.time;t.size=E(t.size),t.space=E(t.space),t.rotate=E(t.rotate),t.incrs=E(t.incrs||(2==n.distr?yt:s?1==at?Yt:Ct:Mt)),t.splits=E(t.splits||(s&&1==n.distr?At:3==n.distr?ee:4==n.distr?le:te)),t.stroke=E(t.stroke),t.grid.stroke=E(t.grid.stroke),t.ticks.stroke=E(t.ticks.stroke);let o=t.values;t.values=L(o)&&!L(o[0])?E(o):s?L(o)?$t(Et,Rt(o,Tt)):I(o)?function(t,e){let l=wt(e);return(e,n,i,s,o)=>n.map((e=>l(t(e))))}(Et,o):o||Ot:o||Qt,t.filter=E(t.filter||(n.distr>=3?re:A)),t.font=Ze(t.font),t.labelFont=Ze(t.labelFont),t._size=t.size(i,null,e,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(ol[e]=!0)}})),n?n instanceof HTMLElement?(n.appendChild(T),zn()):n(i,zn):zn(),i}Ke.assign=J,Ke.fmtNum=h,Ke.rangeNum=a,Ke.rangeLog=s,Ke.rangeAsinh=o,Ke.orient=xe,Ke.join=function(t,e){let l=new Set;for(let o=0;o<t.length;o++){let e=t[o][0],n=e.length;for(let t=0;t<n;t++)l.add(e[t])}let n=[Array.from(l).sort(((t,e)=>t-e))],i=n[0].length,s=new Map;for(let o=0;o<i;o++)s.set(n[0][o],o);for(let o=0;o<t.length;o++){let l=t[o],r=l[0];for(let t=1;t<l.length;t++){let u=l[t],a=Array(i).fill(void 0),c=e?e[o][t]:1,f=[];for(let t=0;t<u.length;t++){let e=u[t],l=s.get(r[t]);null==e?0!=c&&(a[l]=e,2==c&&f.push(l)):a[l]=e}U(a,f,i),n.push(a)}}return n},Ke.fmtDate=wt,Ke.tzDate=function(t,e){let l;return"UTC"==e||"Etc/UTC"==e?l=new Date(+t+6e4*t.getTimezoneOffset()):e==xt?l=t:(l=new Date(t.toLocaleString("en-US",{timeZone:e})),l.setMilliseconds(t.getMilliseconds())),l},Ke.sync=we;{Ke.addGap=ve,Ke.clipGaps=be;let t=Ke.paths={};t.linear=He,t.stepped=function(t){const e=c(t.align,1),n=c(t.ascDesc,!1);return(t,i,s,o)=>xe(t,i,((r,u,a,c,f,h,d,p,m,g,w)=>{let x=r.pxRound,_=0==c.ori?Se:ze;const b={stroke:new Path2D,fill:null,clip:null,band:null},v=b.stroke,k=1*c.dir*(0==c.ori?1:-1);s=l(a,s,o,1),o=l(a,s,o,-1);let y=[],M=!1,S=x(d(a[1==k?s:o],f,w,m)),z=x(h(u[1==k?s:o],c,g,p)),D=z;_(v,z,S);for(let t=1==k?s:o;t>=s&&t<=o;t+=k){let l=a[t],i=x(h(u[t],c,g,p));if(null==l){null===l&&(ve(y,D,i),M=!0);continue}let s=x(d(l,f,w,m));if(M){if(ve(y,D,i),S!=s){let t=r.width*X/2,l=y[y.length-1];l[0]+=n||1==e?t:-t,l[1]-=n||-1==e?t:-t}M=!1}1==e?_(v,i,S):_(v,D,s),_(v,i,s),S=s,D=i}if(null!=r.fill){let e=b.fill=new Path2D(v),l=x(d(r.fillTo(t,i,r.min,r.max),f,w,m));_(e,D,l),_(e,z,l)}return r.spanGaps||(b.clip=be(y,c.ori,p,m,g,w)),t.bands.length>0&&(b.band=_e(t,i,s,o,v)),b}))},t.bars=function(t){const e=c((t=t||O).size,[.6,S]),n=t.align||0,i=1-e[0],s=c(e[1],S)*X;return(t,e,o,r)=>xe(t,e,((u,a,c,f,h,d,p,m,g,w,x)=>{let v=u.pxRound,k=0==f.ori?De:Ee,y=d(a[1],f,w,m)-d(a[0],f,w,m),M=y*i,S=p(u.fillTo(t,e,u.min,u.max),h,x,g),D=v(u.width*X),E=v(_(s,y-M)-D),T=1==n?0:-1==n?E:E/2;const A={stroke:new Path2D,fill:null,clip:null,band:null},Y=t.bands.length>0;let P;Y&&(A.band=new Path2D,P=z(p(h.max,h,x,g),.5));const W=A.stroke,C=A.band,F=f.dir*(0==f.ori?1:-1);for(let t=1==F?o:r;t>=o&&t<=r;t+=F){let e=c[t];if(null==e){if(!Y)continue;{let n=l(c,1==F?o:r,t,-F),i=l(c,t,1==F?r:o,F),s=c[n];e=s+(t-n)/(i-n)*(c[i]-s)}}let n=d(2==f.distr?t:a[t],f,w,m),i=p(e,h,x,g),s=v(n-T),u=v(b(i,S)),y=v(_(i,S)),M=u-y;null!=c[t]&&k(W,s,y,E,M),Y&&(u=y,y=P,M=u-y,k(C,s,y,E,M))}return null!=u.fill&&(A.fill=new Path2D(W)),A}))},t.spline=function(t){return e=Re,(t,n,i,s)=>xe(t,n,((o,r,u,a,c,f,h,d,p,m,g)=>{let w,x,_,b=o.pxRound;0==a.ori?(w=ye,_=Se,x=Ye):(w=Me,_=ze,x=Pe);const v=1*a.dir*(0==a.ori?1:-1);i=l(u,i,s,1),s=l(u,i,s,-1);let k=[],y=!1,M=b(f(r[1==v?i:s],a,m,d)),S=M,z=[],D=[];for(let t=1==v?i:s;t>=i&&t<=s;t+=v){let e=u[t],l=f(r[t],a,m,d);null!=e?(y&&(ve(k,S,l),y=!1),z.push(S=l),D.push(h(u[t],c,g,p))):null===e&&(ve(k,S,l),y=!0)}const E={stroke:e(z,D,w,_,x,b),fill:null,clip:null,band:null},T=E.stroke;if(null!=o.fill&&null!=T){let e=E.fill=new Path2D(T),l=b(h(o.fillTo(t,n,o.min,o.max),c,g,p));_(e,S,l),_(e,M,l)}return o.spanGaps||(E.clip=be(k,a.ori,d,p,m,g)),t.bands.length>0&&(E.band=_e(t,n,i,s,T)),E}));var e}}var Xe=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#ffffff","#000000"];const Qe={};var tl=t({name:"TimePlot",props:{options:{type:Object,default:()=>null},data:{type:Array,default(){},validator:t=>Array.isArray(t)&&t.length}},data:()=>({chart:null,ro:null,width:40,chart_data:null,dark_watcher:null}),watch:{options(){console.log("Time-plot options changed"),this._destroy(),this._create()},data(t){if(!t)return;const e=Array.isArray(t[0]);if(this.chart&&this.chart_data&&!e){const e=this.chart_data.length;for(let n=0;n<e;n++)this.chart_data[n].push(t[n]);const l=Math.max(this.width/2,20);for(;this.chart_data[0].length>l;)for(let t=0;t<e;t++)this.chart_data[t].shift();this.chart.setData(this.chart_data)}else this.chart&&this._destroy(),this.chart_data=this._transpose(e?t:[t]),this._create()}},mounted(){this._create(),this.ro=new ResizeObserver(this._onResize).observe(this.$el);const t=this;this.dark_watcher=this.$watch((()=>t.$vuetify.theme.dark),(()=>{this._destroy(),this._create()}))},beforeDestroy(){console.log("BeforeDestroy uPlot"),this.ro&&this.ro.unobserve(this.$el),this.ro=null,this._destroy(),this.dark_watcher()},methods:{_destroy(){this.chart&&(console.log("Destroying uPlot"),this.chart.destroy(),this.chart=null)},_calcSize(){let t=this.options.width||this.$el.children[0].clientWidth,e=this.options.height||t/(this.options.aspect||2);return console.log(`Time-plot container sized to ${t}x${e}`),this.width=t,{width:t,height:e}},_onResize(){this.chart&&this.chart.setSize(this._calcSize())},_transpose(t){if(!t||0==t.length)return[];t[0].map;let e=t[0].map((()=>Array(t.length)));return t.forEach(((t,l)=>{t.forEach(((t,n)=>{e[n][l]=t}))})),e},_create(){const t=this;if(console.log("Creating uPlot"),!this.chart_data||0===this.chart_data.length)return;let e=JSON.parse(JSON.stringify(this.options));for(Object.assign(e,this._calcSize()),e.series||(e.series=[]);e.series.length<this.chart_data.length;)e.series.push({});e.series.forEach((function(e,l){e.label||(e.label=l?"series "+l:"time"),l&&(e.stroke||(e.stroke=Xe[(l-1)%20]),e.width||(e.width=2),"string"==typeof e.value&&(e.value=new Function("u","v",`"use strict";return (${e.value})`))),t.$vuetify.theme.dark&&(e.points||(e.points={}),e.points.fill||(e.points.fill="#1e1e1e"))})),(!e.axes||e.axes.length<2)&&(e.axes=[{},{}]),e.axes.forEach((e=>{e.values&&"string"==typeof e.values&&(e.values=new Function("u","vv","s",`"use strict";return (${e.values})`)),t.$vuetify.theme.dark&&(e.grid||(e.grid={}),e.grid.stroke||(e.grid.stroke="#444"),e.stroke||(e.stroke="#ccc"))})),Object.values(e.scales||{}).forEach((t=>{t.range&&"string"==typeof t.range&&(t.range=new Function("u","min","max",`"use strict";return (${t.range})`))})),console.log("uPlot options:",e),this.chart=new Ke(e,this.chart_data,this.$el.children[0])}}},(function(){var t=this;t.$createElement;return t._self._c,t._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"px-1"},[e("div",{staticStyle:{"xx-background-color":"#eef"}})])}],!1,(function(t){for(let e in Qe)this[e]=Qe[e]}),null,null,null);tl.options.__file="src/widgets/time-plot.vue";var el=tl.exports;export default el;
